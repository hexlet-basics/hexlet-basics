# typed: true

# DO NOT EDIT MANUALLY
# This is an autogenerated file for types exported from the `googleauth` gem.
# Please instead update this file by running `bin/tapioca gem googleauth`.


# source://googleauth//lib/googleauth/errors.rb#19
module Google; end

# Module Auth provides classes that provide Google-specific authorization
# used to access Google APIs.
#
# source://googleauth//lib/googleauth/errors.rb#20
module Google::Auth
  private

  # Obtains the default credentials implementation to use in this
  # environment.
  #
  # Use this to obtain the Application Default Credentials for accessing
  # Google APIs.  Application Default Credentials are described in detail
  # at https://cloud.google.com/docs/authentication/production.
  #
  # If supplied, scope is used to create the credentials instance, when it can
  # be applied.  E.g, on google compute engine and for user credentials the
  # scope is ignored.
  #
  # @param options [Hash] Connection options. These may be used to configure
  #   the `Faraday::Connection` used for outgoing HTTP requests. For
  #   example, if a connection proxy must be used in the current network,
  #   you may provide a connection with with the needed proxy options.
  #   The following keys are recognized:
  #   * `:default_connection` The connection object to use for token
  #   refresh requests.
  #   * `:connection_builder` A `Proc` that creates and returns a
  #   connection to use for token refresh requests.
  #   * `:connection` The connection to use to determine whether GCE
  #   metadata credentials are available.
  # @param scope [string|array|nil] the scope(s) to access
  # @raise [Google::Auth::InitializationError] If the credentials cannot be found
  #
  # source://googleauth//lib/googleauth/application_default.rb#55
  def get_application_default(scope = T.unsafe(nil), options = T.unsafe(nil)); end

  class << self
    # Obtains the default credentials implementation to use in this
    # environment.
    #
    # Use this to obtain the Application Default Credentials for accessing
    # Google APIs.  Application Default Credentials are described in detail
    # at https://cloud.google.com/docs/authentication/production.
    #
    # If supplied, scope is used to create the credentials instance, when it can
    # be applied.  E.g, on google compute engine and for user credentials the
    # scope is ignored.
    #
    # @param options [Hash] Connection options. These may be used to configure
    #   the `Faraday::Connection` used for outgoing HTTP requests. For
    #   example, if a connection proxy must be used in the current network,
    #   you may provide a connection with with the needed proxy options.
    #   The following keys are recognized:
    #   * `:default_connection` The connection object to use for token
    #   refresh requests.
    #   * `:connection_builder` A `Proc` that creates and returns a
    #   connection to use for token refresh requests.
    #   * `:connection` The connection to use to determine whether GCE
    #   metadata credentials are available.
    # @param scope [string|array|nil] the scope(s) to access
    # @raise [Google::Auth::InitializationError] If the credentials cannot be found
    #
    # source://googleauth//lib/googleauth/application_default.rb#55
    def get_application_default(scope = T.unsafe(nil), options = T.unsafe(nil)); end
  end
end

# Implementation of Google API Key authentication.
#
# API Keys are text strings. They don't have an associated JSON file.
#
# The end-user is managing their API Keys directly, not via
# an authentication library.
#
# API Keys provide project information for an API request.
# API Keys don't reference an IAM principal, they do not expire,
# and cannot be refreshed.
#
# source://googleauth//lib/googleauth/api_key.rb#32
class Google::Auth::APIKeyCredentials
  include ::Google::Auth::BaseClient

  # Initialize the APIKeyCredentials.
  #
  # @option options
  # @option options
  # @param options [Hash] The credentials options
  # @raise [ArgumentError] If the API key is nil or empty
  # @return [APIKeyCredentials] a new instance of APIKeyCredentials
  #
  # source://googleauth//lib/googleauth/api_key.rb#89
  def initialize(options = T.unsafe(nil)); end

  # @return [String] The API key
  #
  # source://googleauth//lib/googleauth/api_key.rb#42
  def api_key; end

  # Updates the provided hash with the API Key header.
  #
  # The `apply!` method modifies the provided hash in place, adding the
  # `x-goog-api-key` header with the API Key value.
  #
  # The API Key is hashed before being logged for security purposes.
  #
  # NB: this method typically would be called through `updater_proc`.
  # Some older clients call it directly though, so it has to be public.
  #
  # @param _opts [Hash] Additional options (currently not used).  Included
  #   for consistency with the `BaseClient` interface.
  # @param a_hash [Hash] The hash to which the API Key header should be added.
  #   This is typically a hash representing the request headers.  This hash
  #   will be modified in place.
  # @return [Hash] The modified hash (the same hash passed as the `a_hash`
  #   argument).
  #
  # source://googleauth//lib/googleauth/api_key.rb#134
  def apply!(a_hash, _opts = T.unsafe(nil)); end

  # Creates a duplicate of these credentials.
  #
  # @param options [Hash] Additional options for configuring the credentials
  # @return [Google::Auth::APIKeyCredentials]
  #
  # source://googleauth//lib/googleauth/api_key.rb#110
  def duplicate(options = T.unsafe(nil)); end

  # Determines if the credentials object has expired.
  # Since API keys don't expire, this always returns false.
  #
  # @param _seconds [Fixnum] The optional timeout in seconds since the last refresh
  # @return [Boolean] True if the token has expired, false otherwise.
  #
  # source://googleauth//lib/googleauth/api_key.rb#102
  def expires_within?(_seconds); end

  # For credentials that are initialized with a token without a principal,
  # the type of that token should be returned as a principal instead
  #
  # @private
  # @return [Symbol] the token type in lieu of the principal
  #
  # source://googleauth//lib/googleauth/api_key.rb#147
  def principal; end

  # @return [String] The universe domain of the universe
  #   this API key is for
  #
  # source://googleauth//lib/googleauth/api_key.rb#46
  def universe_domain; end

  # @return [String] The universe domain of the universe
  #   this API key is for
  #
  # source://googleauth//lib/googleauth/api_key.rb#46
  def universe_domain=(_arg0); end

  protected

  # We don't need to fetch access tokens for API key auth
  #
  # source://googleauth//lib/googleauth/api_key.rb#159
  def fetch_access_token!(_options = T.unsafe(nil)); end

  # The token type should be :api_key
  #
  # source://googleauth//lib/googleauth/api_key.rb#154
  def token_type; end

  class << self
    # Creates an APIKeyCredentials from the environment.
    # Checks the ENV['GOOGLE_API_KEY'] variable.
    #
    # @param _scope [String] The scope to use for OAuth. Not used by API key auth.
    # @param options [Hash] The options to pass to the credentials instance
    # @return [Google::Auth::APIKeyCredentials, nil] Credentials if the API key environment variable is present,
    #   nil otherwise
    #
    # source://googleauth//lib/googleauth/api_key.rb#60
    def from_env(_scope = T.unsafe(nil), options = T.unsafe(nil)); end

    # Create the APIKeyCredentials.
    #
    # @option options
    # @option options
    # @param options [Hash] The credentials options
    # @return [Google::Auth::APIKeyCredentials]
    #
    # source://googleauth//lib/googleauth/api_key.rb#75
    def make_creds(options = T.unsafe(nil)); end
  end
end

# @private Authorization header key
#
# source://googleauth//lib/googleauth/api_key.rb#36
Google::Auth::APIKeyCredentials::API_KEY_HEADER = T.let(T.unsafe(nil), String)

# @private Environment variable containing API key
#
# source://googleauth//lib/googleauth/api_key.rb#39
Google::Auth::APIKeyCredentials::API_KEY_VAR = T.let(T.unsafe(nil), String)

# An error indicating the remote server refused to authorize the client.
# Maintains backward compatibility with Signet.
#
# Should not be used in the new code, even when wrapping `Signet::AuthorizationError`.
# New code should use CredentialsError instead.
#
# source://googleauth//lib/googleauth/errors.rb#91
class Google::Auth::AuthorizationError < ::Signet::AuthorizationError
  include ::Google::Auth::Error
  include ::Google::Auth::DetailedError
  extend ::Google::Auth::DetailedError::ClassMethods
end

# BaseClient is a class used to contain common methods that are required by any
# Credentials Client, including AwsCredentials, ServiceAccountCredentials,
# and UserRefreshCredentials. This is a superclass of Signet::OAuth2::Client
# and has been created to create a generic interface for all credentials clients
# to use, including ones which do not inherit from Signet::OAuth2::Client.
#
# source://googleauth//lib/googleauth/base_client.rb#26
module Google::Auth::BaseClient
  # Returns a clone of a_hash updated with the authentication token
  #
  # source://googleauth//lib/googleauth/base_client.rb#45
  def apply(a_hash, opts = T.unsafe(nil)); end

  # Updates a_hash updated with the authentication token
  #
  # source://googleauth//lib/googleauth/base_client.rb#30
  def apply!(a_hash, opts = T.unsafe(nil)); end

  # @raise [NoMethodError]
  # @return [Boolean]
  #
  # source://googleauth//lib/googleauth/base_client.rb#74
  def expires_within?; end

  # The logger used to log operations on this client, such as token refresh.
  #
  # source://googleauth//lib/googleauth/base_client.rb#79
  def logger; end

  # The logger used to log operations on this client, such as token refresh.
  #
  # source://googleauth//lib/googleauth/base_client.rb#79
  def logger=(_arg0); end

  # Whether the id_token or access_token is missing or about to expire.
  #
  # @return [Boolean]
  #
  # source://googleauth//lib/googleauth/base_client.rb#52
  def needs_access_token?; end

  # source://googleauth//lib/googleauth/base_client.rb#67
  def notify_refresh_listeners; end

  # source://googleauth//lib/googleauth/base_client.rb#62
  def on_refresh(&block); end

  # @private
  # @raise [NoMethodError]
  #
  # source://googleauth//lib/googleauth/base_client.rb#82
  def principal; end

  # Returns a reference to the #apply method, suitable for passing as
  # a closure
  #
  # source://googleauth//lib/googleauth/base_client.rb#58
  def updater_proc; end

  private

  # @raise [NoMethodError]
  #
  # source://googleauth//lib/googleauth/base_client.rb#92
  def fetch_access_token!; end

  # @raise [NoMethodError]
  #
  # source://googleauth//lib/googleauth/base_client.rb#88
  def token_type; end
end

# source://googleauth//lib/googleauth/base_client.rb#27
Google::Auth::BaseClient::AUTH_METADATA_KEY = T.let(T.unsafe(nil), Symbol)

# Implementation of Bearer Token authentication scenario.
#
# Bearer tokens are strings representing an authorization grant.
# They can be OAuth2 ("ya.29") tokens, JWTs, IDTokens -- anything
# that is sent as a `Bearer` in an `Authorization` header.
#
# Not all 'authentication' strings can be used with this class,
# e.g. an API key cannot since API keys are sent in a
# `x-goog-api-key` header or as a query parameter.
#
# This class should be used when the end-user is managing the
# authentication token separately, e.g. with a separate service.
# This means that tasks like tracking the lifetime of and
# refreshing the token are outside the scope of this class.
#
# There is no JSON representation for this type of credentials.
# If the end-user has credentials in JSON format they should typically
# use the corresponding credentials type, e.g. ServiceAccountCredentials
# with the service account JSON.
#
# source://googleauth//lib/googleauth/bearer_token.rb#41
class Google::Auth::BearerTokenCredentials
  include ::Google::Auth::BaseClient

  # Initialize the BearerTokenCredentials.
  #
  # @option options
  # @option options
  # @option options
  # @param options [Hash] The credentials options
  # @raise [ArgumentError] If the bearer token is nil or empty
  # @return [BearerTokenCredentials] a new instance of BearerTokenCredentials
  #
  # source://googleauth//lib/googleauth/bearer_token.rb#85
  def initialize(options = T.unsafe(nil)); end

  # The following aliasing is needed for BaseClient since it sends :token_type
  #
  # @return [String] The token to be sent as a part of Bearer claim
  #
  # source://googleauth//lib/googleauth/bearer_token.rb#50
  def bearer_token; end

  # Creates a duplicate of these credentials.
  #
  # @option options
  # @option options
  # @option options
  # @param options [Hash] Additional options for configuring the credentials
  # @return [Google::Auth::BearerTokenCredentials]
  #
  # source://googleauth//lib/googleauth/bearer_token.rb#116
  def duplicate(options = T.unsafe(nil)); end

  # @return [Time, nil] The token expiration time provided by the end-user.
  #
  # source://googleauth//lib/googleauth/bearer_token.rb#53
  def expires_at; end

  # Determines if the credentials object has expired.
  #
  # @param seconds [Numeric] The optional timeout in seconds.
  # @return [Boolean] True if the token has expired, false otherwise, or
  #   if the expires_at was not provided.
  #
  # source://googleauth//lib/googleauth/bearer_token.rb#103
  def expires_within?(seconds); end

  # For credentials that are initialized with a token without a principal,
  # the type of that token should be returned as a principal instead
  #
  # @private
  # @return [Symbol] the token type in lieu of the principal
  #
  # source://googleauth//lib/googleauth/bearer_token.rb#128
  def principal; end

  # @return [String] The token to be sent as a part of Bearer claim
  #
  # source://googleauth//lib/googleauth/bearer_token.rb#48
  def token; end

  # @return [String] The universe domain of the universe
  #   this token is for
  #
  # source://googleauth//lib/googleauth/bearer_token.rb#57
  def universe_domain; end

  # @return [String] The universe domain of the universe
  #   this token is for
  #
  # source://googleauth//lib/googleauth/bearer_token.rb#57
  def universe_domain=(_arg0); end

  protected

  # BearerTokenCredentials do not support fetching a new token.
  #
  # If the token has an expiration time and is expired, this method will
  # raise an error.
  #
  # @param _options [Hash] Options for fetching a new token (not used).
  # @raise [Google::Auth::CredentialsError] If the token is expired.
  # @return [nil] Always returns nil.
  #
  # source://googleauth//lib/googleauth/bearer_token.rb#143
  def fetch_access_token!(_options = T.unsafe(nil)); end

  private

  # source://googleauth//lib/googleauth/bearer_token.rb#157
  def token_type; end

  class << self
    # Create the BearerTokenCredentials.
    #
    # @option options
    # @option options
    # @option options
    # @param options [Hash] The credentials options
    # @return [Google::Auth::BearerTokenCredentials]
    #
    # source://googleauth//lib/googleauth/bearer_token.rb#70
    def make_creds(options = T.unsafe(nil)); end
  end
end

# @private Authorization header name
#
# source://googleauth//lib/googleauth/bearer_token.rb#45
Google::Auth::BearerTokenCredentials::AUTH_METADATA_KEY = T.let(T.unsafe(nil), Symbol)

# Representation of an application's identity for user authorization flows.
#
# source://googleauth//lib/googleauth/client_id.rb#24
class Google::Auth::ClientId
  # Initialize the Client ID. Both id and secret must be non-nil.
  #
  # @note Direct instantiation is discouraged to avoid embedding IDs
  #   and secrets in source. See {#from_file} to load from
  #   `client_secrets.json` files.
  # @param id [String] Text identifier of the client ID
  # @param secret [String] Secret associated with the client ID
  # @raise [Google::Auth::InitializationError] If id or secret is nil
  # @return [ClientId] a new instance of ClientId
  #
  # source://googleauth//lib/googleauth/client_id.rb#68
  def initialize(id, secret); end

  # Text identifier of the client ID
  #
  # @return [String]
  #
  # source://googleauth//lib/googleauth/client_id.rb#44
  def id; end

  # Secret associated with the client ID
  #
  # @return [String]
  #
  # source://googleauth//lib/googleauth/client_id.rb#50
  def secret; end

  class << self
    # Returns the value of attribute default.
    #
    # source://googleauth//lib/googleauth/client_id.rb#53
    def default; end

    # Sets the attribute default
    #
    # @param value the value to set the attribute default to.
    #
    # source://googleauth//lib/googleauth/client_id.rb#53
    def default=(_arg0); end

    # Constructs a Client ID from a JSON file downloaded from the
    # Google Developers Console.
    #
    # @param file [String, File] Path of file to read from
    # @raise [Google::Auth::InitializationError] If file is nil
    # @return [Google::Auth::ClientID]
    #
    # source://googleauth//lib/googleauth/client_id.rb#84
    def from_file(file); end

    # Constructs a Client ID from a previously loaded JSON file. The hash
    # structure should match the expected JSON format.
    #
    # @param config [hash] Parsed contents of the JSON file
    # @raise [Google::Auth::InitializationError] If config is nil or missing required elements
    # @return [Google::Auth::ClientID]
    #
    # source://googleauth//lib/googleauth/client_id.rb#102
    def from_hash(config); end
  end
end

# JSON key for the client ID within an app configuration.
#
# source://googleauth//lib/googleauth/client_id.rb#32
Google::Auth::ClientId::CLIENT_ID = T.let(T.unsafe(nil), String)

# JSON key for the client secret within an app configuration.
#
# source://googleauth//lib/googleauth/client_id.rb#34
Google::Auth::ClientId::CLIENT_SECRET = T.let(T.unsafe(nil), String)

# Toplevel JSON key for the an installed app configuration.
# Must include client_id and client_secret subkeys if present.
#
# source://googleauth//lib/googleauth/client_id.rb#27
Google::Auth::ClientId::INSTALLED_APP = T.let(T.unsafe(nil), String)

# An error message raised when none of the expected toplevel properties
# can be found.
#
# source://googleauth//lib/googleauth/client_id.rb#37
Google::Auth::ClientId::MISSING_TOP_LEVEL_ELEMENT_ERROR = T.let(T.unsafe(nil), String)

# Toplevel JSON key for the a webapp configuration.
# Must include client_id and client_secret subkeys if present.
#
# source://googleauth//lib/googleauth/client_id.rb#30
Google::Auth::ClientId::WEB_APP = T.let(T.unsafe(nil), String)

# Credentials is a high-level base class used by Google's API client
# libraries to represent the authentication when connecting to an API.
# In most cases, it is subclassed by API-specific credential classes that
# can be instantiated by clients.
#
# **Important:** If you accept a credential configuration (credential
# JSON/File/Stream) from an external source for authentication to Google
# Cloud, you must validate it before providing it to any Google API or
# library. Providing an unvalidated credential configuration to Google APIs
# can compromise the security of your systems and data. For more
# information, refer to [Validate credential configurations from external
# sources](https://cloud.google.com/docs/authentication/external/externally-sourced-credentials).
#
# ## Options
#
# Credentials classes are configured with options that dictate default
# values for parameters such as scope and audience. These defaults are
# expressed as class attributes, and may differ from endpoint to endpoint.
# Normally, an API client will provide subclasses specific to each
# endpoint, configured with appropriate values.
#
# Note that these options inherit up the class hierarchy. If a particular
# options is not set for a subclass, its superclass is queried.
#
# Some older users of this class set options via constants. This usage is
# deprecated. For example, instead of setting the `AUDIENCE` constant on
# your subclass, call the `audience=` method.
#
# ## Example
#
#     class MyCredentials < Google::Auth::Credentials
#       # Set the default scope for these credentials
#       self.scope = "http://example.com/my_scope"
#     end
#
#     # creds is a credentials object suitable for Google API clients
#     creds = MyCredentials.default
#     creds.scope  # => ["http://example.com/my_scope"]
#
#     class SubCredentials < MyCredentials
#       # Override the default scope for this subclass
#       self.scope = "http://example.com/sub_scope"
#     end
#
#     creds2 = SubCredentials.default
#     creds2.scope  # => ["http://example.com/sub_scope"]
#
# source://googleauth//lib/googleauth/credentials.rb#74
class Google::Auth::Credentials
  extend ::Forwardable

  # Creates a new Credentials instance with the provided auth credentials, and with the default
  # values configured on the class.
  #
  # @param options [Hash] The options for configuring this wrapper credentials object and the inner client.
  #   The options hash is used in two ways:
  #
  #   1. **Configuring the wrapper object:** Some options are used to directly
  #   configure the wrapper `Credentials` instance. These include:
  #
  #   * `:project_id` (and optionally `:project`) - the project identifier for the client
  #   * `:quota_project_id` - the quota project identifier for the client
  #   * `:logger` - the logger used to log credential operations such as token refresh.
  #
  #   2. **Configuring the inner client:** When the `source_creds` parameter
  #   is a `String` or `Hash`, a new `Signet::OAuth2::Client` is created
  #   internally. The following options are used to configure this inner client:
  #
  #   * `:scope` - the scope for the client
  #   * `:target_audience` - the target audience for the client
  #
  #   Any other options in the `options` hash are passed directly to the
  #   inner client constructor. This allows you to configure additional
  #   parameters of the `Signet::OAuth2::Client`, such as connection parameters,
  #   timeouts, etc.
  # @param source_creds [String, Pathname, Hash, Google::Auth::BaseClient] The source of credentials. It can be provided as one of the following:
  #
  #   * The path to a JSON keyfile (as a `String` or a `Pathname`)
  #   * The contents of a JSON keyfile (as a `Hash`)
  #   * A `Google::Auth::BaseClient` credentials object, including but not limited to
  #   a `Signet::OAuth2::Client` object.
  #   * Any credentials object that supports the methods this wrapper delegates to an inner client.
  #
  #   If this parameter is an object (`Signet::OAuth2::Client` or other) it will be used as an inner client.
  #   Otherwise the inner client will be constructed from the JSON keyfile or the contens of the hash.
  # @raise [Google::Auth::InitializationError] If source_creds is nil
  # @raise [ArgumentError] If both scope and target_audience are specified
  # @return [Credentials] a new instance of Credentials
  #
  # source://googleauth//lib/googleauth/credentials.rb#401
  def initialize(source_creds, options = T.unsafe(nil)); end

  # @return [String] The target audience ID when issuing assertions. Used only by the
  #   assertion grant type.
  #
  # source://googleauth//lib/googleauth/credentials.rb#354
  def audience(*_arg0, **_arg1, &_arg2); end

  # The Signet::OAuth2::Client object the Credentials instance is using.
  #
  # @return [Signet::OAuth2::Client]
  #
  # source://googleauth//lib/googleauth/credentials.rb#297
  def client; end

  # The Signet::OAuth2::Client object the Credentials instance is using.
  #
  # @return [Signet::OAuth2::Client]
  #
  # source://googleauth//lib/googleauth/credentials.rb#297
  def client=(_arg0); end

  # @private Temporary; remove when universe domain metadata endpoint is stable (see b/349488459).
  #
  # source://googleauth//lib/googleauth/credentials.rb#314
  def disable_universe_domain_check; end

  # Creates a duplicate of these credentials. This method tries to create the duplicate of the
  # wrapped credentials if they support duplication and use them as is if they don't.
  #
  # The wrapped credentials are typically `Signet::OAuth2::Client` objects and they keep
  # the transient state (token, refresh token, etc). The duplication discards that state,
  # allowing e.g. to get the token with a different scope.
  #
  # @param options [Hash] Overrides for the credentials parameters.
  #
  #   The options hash is used in two ways:
  #
  #   1. **Configuring the duplicate of the wrapper object:** Some options are used to directly
  #   configure the wrapper `Credentials` instance. These include:
  #
  #   * `:project_id` (and optionally `:project`) - the project identifier for the credentials
  #   * `:quota_project_id` - the quota project identifier for the credentials
  #
  #   2. **Configuring the duplicate of the inner client:** If the inner client supports duplication
  #   the options hash is passed to it. This allows for configuration of additional parameters,
  #   most importantly (but not limited to) the following:
  #
  #   * `:scope` - the scope for the client
  # @return [Credentials]
  #
  # source://googleauth//lib/googleauth/credentials.rb#591
  def duplicate(options = T.unsafe(nil)); end

  # @return [String] The issuer ID associated with this client.
  #
  # source://googleauth//lib/googleauth/credentials.rb#354
  def issuer(*_arg0, **_arg1, &_arg2); end

  # @return [Logger] The logger used to log credential operations such as token refresh.
  #
  # source://googleauth//lib/googleauth/credentials.rb#354
  def logger(*_arg0, **_arg1, &_arg2); end

  # @return [Logger] The logger used to log credential operations such as token refresh.
  #
  # source://googleauth//lib/googleauth/credentials.rb#354
  def logger=(*_arg0, **_arg1, &_arg2); end

  # Identifier for the project the client is authenticating with.
  #
  # @return [String]
  #
  # source://googleauth//lib/googleauth/credentials.rb#304
  def project_id; end

  # Identifier for a separate project used for billing/quota, if any.
  #
  # @return [String, nil]
  #
  # source://googleauth//lib/googleauth/credentials.rb#311
  def quota_project_id; end

  # @return [String, Array<String>] The scope for this client. A scope is an access range
  #   defined by the authorization server. The scope can be a single value or a list of values.
  #
  # source://googleauth//lib/googleauth/credentials.rb#354
  def scope(*_arg0, **_arg1, &_arg2); end

  # @return [String, OpenSSL::PKey] The signing key associated with this client.
  #
  # source://googleauth//lib/googleauth/credentials.rb#354
  def signing_key(*_arg0, **_arg1, &_arg2); end

  # @return [String] The final target audience for ID tokens returned by this credential.
  #
  # source://googleauth//lib/googleauth/credentials.rb#354
  def target_audience(*_arg0, **_arg1, &_arg2); end

  # @return [String] The token credential URI. The URI is the authorization server's HTTP
  #   endpoint capable of issuing tokens and refreshing expired tokens.
  #
  # source://googleauth//lib/googleauth/credentials.rb#354
  def token_credential_uri(*_arg0, **_arg1, &_arg2); end

  # @return [String] The universe domain issuing these credentials.
  #
  # source://googleauth//lib/googleauth/credentials.rb#354
  def universe_domain(*_arg0, **_arg1, &_arg2); end

  # @return [String] The universe domain issuing these credentials.
  #
  # source://googleauth//lib/googleauth/credentials.rb#354
  def universe_domain=(*_arg0, **_arg1, &_arg2); end

  # @return [Proc] Returns a reference to the {Signet::OAuth2::Client#apply} method,
  #   suitable for passing as a closure.
  #
  # source://googleauth//lib/googleauth/credentials.rb#354
  def updater_proc(*_arg0, **_arg1, &_arg2); end

  protected

  # source://googleauth//lib/googleauth/credentials.rb#655
  def setup_logging(logger: T.unsafe(nil)); end

  # returns a new Hash with string keys instead of symbol keys.
  #
  # source://googleauth//lib/googleauth/credentials.rb#620
  def stringify_hash_keys(hash); end

  # returns a new Hash with symbol keys instead of string keys.
  #
  # source://googleauth//lib/googleauth/credentials.rb#625
  def symbolize_hash_keys(hash); end

  # source://googleauth//lib/googleauth/credentials.rb#629
  def update_from_client(client); end

  # source://googleauth//lib/googleauth/credentials.rb#645
  def update_from_filepath(path, options); end

  # source://googleauth//lib/googleauth/credentials.rb#636
  def update_from_hash(hash, options); end

  # source://googleauth//lib/googleauth/credentials.rb#634
  def update_from_signet(client); end

  # Verify that the keyfile argument is a file.
  #
  # @param keyfile [String] Path to the keyfile
  # @raise [Google::Auth::InitializationError] If the keyfile does not exist
  #
  # source://googleauth//lib/googleauth/credentials.rb#614
  def verify_keyfile_exists!(keyfile); end

  private

  # source://googleauth//lib/googleauth/credentials.rb#683
  def deep_hash_normalize(old_hash); end

  # Convert all keys in this hash (nested) to symbols for uniform retrieval
  #
  # source://googleauth//lib/googleauth/credentials.rb#675
  def recursive_hash_normalize_keys(val); end

  class << self
    # The default target audience ID to be used when none is provided during initialization.
    # Used only by the assertion grant type.
    #
    # @return [String]
    #
    # source://googleauth//lib/googleauth/credentials.rb#113
    def audience; end

    # Sets the default target audience ID to be used when none is provided during initialization.
    #
    # @param new_audience [String]
    #
    # source://googleauth//lib/googleauth/credentials.rb#124
    def audience=(new_audience); end

    # Creates a new Credentials instance with auth credentials acquired by searching the
    # environment variables and paths configured on the class, and with the default values
    # configured on the class.
    #
    # The auth credentials are searched for in the following order:
    #
    # 1. configured environment variables (see {Credentials.env_vars})
    # 2. configured default file paths (see {Credentials.paths})
    # 3. application default (see {Google::Auth.get_application_default})
    #
    # @param options [Hash] The options for configuring the credentials instance. The following is supported:
    #
    #   * +:scope+ - the scope for the client
    #   * +"project_id"+ (and optionally +"project"+) - the project identifier for the client
    #   * +:connection_builder+ - the connection builder to use for the client
    #   * +:default_connection+ - the default connection to use for the client
    # @return [Credentials]
    #
    # source://googleauth//lib/googleauth/credentials.rb#446
    def default(options = T.unsafe(nil)); end

    # The environment variables to search for credentials. Values can either be a file path to the
    # credentials file, or the JSON contents of the credentials file.
    # The env_vars will never be nil. If there are no vars, the empty array is returned.
    #
    # @return [Array<String>]
    #
    # source://googleauth//lib/googleauth/credentials.rb#195
    def env_vars; end

    # Sets the environment variables to search for credentials.
    # Setting to `nil` "unsets" the value, and defaults to the superclass
    # (or to the empty array if there is no superclass).
    #
    # @param new_env_vars [String, Array<String>, nil]
    #
    # source://googleauth//lib/googleauth/credentials.rb#219
    def env_vars=(new_env_vars); end

    # Internal recursive lookup for env_vars.
    #
    # @private
    #
    # source://googleauth//lib/googleauth/credentials.rb#203
    def env_vars_internal; end

    # Initializes the Signet client.
    #
    # @private
    #
    # source://googleauth//lib/googleauth/credentials.rb#526
    def init_client(hash, options = T.unsafe(nil)); end

    # Return the given parameter value, defaulting up the class hierarchy.
    #
    # First returns the value of the instance variable, if set.
    # Next, calls the given block if provided. (This is generally used to
    # look up legacy constant-based values.)
    # Otherwise, calls the superclass method if present.
    # Returns nil if all steps fail.
    #
    # @param method_name [Symbol] The lookup method name, if different
    # @param name [Symbol] The parameter name
    # @private
    # @return [Object] The value
    #
    # source://googleauth//lib/googleauth/credentials.rb#272
    def lookup_auth_param(name, method_name = T.unsafe(nil)); end

    # Return the value of the given constant if it is defined directly in
    # this class, or nil if not.
    #
    # @param Name [Symbol] of the constant
    # @private
    # @return [Object] The value
    #
    # source://googleauth//lib/googleauth/credentials.rb#288
    def lookup_local_constant(name); end

    # The file paths to search for credentials files.
    # The paths will never be nil. If there are no paths, the empty array is returned.
    #
    # @return [Array<String>]
    #
    # source://googleauth//lib/googleauth/credentials.rb#230
    def paths; end

    # Set the file paths to search for credentials files.
    # Setting to `nil` "unsets" the value, and defaults to the superclass
    # (or to the empty array if there is no superclass).
    #
    # @param new_paths [String, Array<String>, nil]
    #
    # source://googleauth//lib/googleauth/credentials.rb#253
    def paths=(new_paths); end

    # Internal recursive lookup for paths.
    #
    # @private
    #
    # source://googleauth//lib/googleauth/credentials.rb#238
    def paths_internal; end

    # The default scope to be used when none is provided during initialization.
    # A scope is an access range defined by the authorization server.
    # The scope can be a single value or a list of values.
    #
    # Either {#scope} or {#target_audience}, but not both, should be non-nil.
    # If {#scope} is set, this credential will produce access tokens.
    # If {#target_audience} is set, this credential will produce ID tokens.
    #
    # @return [String, Array<String>, nil]
    #
    # source://googleauth//lib/googleauth/credentials.rb#139
    def scope; end

    # Sets the default scope to be used when none is provided during initialization.
    #
    # Either {#scope} or {#target_audience}, but not both, should be non-nil.
    # If {#scope} is set, this credential will produce access tokens.
    # If {#target_audience} is set, this credential will produce ID tokens.
    #
    # @param new_scope [String, Array<String>, nil]
    #
    # source://googleauth//lib/googleauth/credentials.rb#155
    def scope=(new_scope); end

    # The default final target audience for ID tokens, to be used when none
    # is provided during initialization.
    #
    # Either {#scope} or {#target_audience}, but not both, should be non-nil.
    # If {#scope} is set, this credential will produce access tokens.
    # If {#target_audience} is set, this credential will produce ID tokens.
    #
    # @return [String, nil]
    #
    # source://googleauth//lib/googleauth/credentials.rb#170
    def target_audience; end

    # Sets the default final target audience for ID tokens, to be used when none
    # is provided during initialization.
    #
    # Either {#scope} or {#target_audience}, but not both, should be non-nil.
    # If {#scope} is set, this credential will produce access tokens.
    # If {#target_audience} is set, this credential will produce ID tokens.
    #
    # @param new_target_audience [String, nil]
    #
    # source://googleauth//lib/googleauth/credentials.rb#184
    def target_audience=(new_target_audience); end

    # The default token credential URI to be used when none is provided during initialization.
    # The URI is the authorization server's HTTP endpoint capable of issuing tokens and
    # refreshing expired tokens.
    #
    # @return [String]
    #
    # source://googleauth//lib/googleauth/credentials.rb#92
    def token_credential_uri; end

    # Set the default token credential URI to be used when none is provided during initialization.
    #
    # @param new_token_credential_uri [String]
    #
    # source://googleauth//lib/googleauth/credentials.rb#103
    def token_credential_uri=(new_token_credential_uri); end

    # Updates client options with defaults from the credential class
    #
    # @param options [Hash] Options to update
    # @private
    # @raise [ArgumentError] If both scope and target_audience are specified
    # @return [Hash] Updated options hash
    #
    # source://googleauth//lib/googleauth/credentials.rb#545
    def update_client_options(options); end

    private

    # @private Lookup Credentials using Google::Auth.get_application_default.
    #
    # source://googleauth//lib/googleauth/credentials.rb#490
    def from_application_default(options); end

    # @private Lookup Credentials from default file paths.
    #
    # source://googleauth//lib/googleauth/credentials.rb#479
    def from_default_paths(options); end

    # @private Lookup Credentials from environment variables.
    #
    # source://googleauth//lib/googleauth/credentials.rb#460
    def from_env_vars(options); end

    # @private Read credentials from a JSON stream.
    #
    # source://googleauth//lib/googleauth/credentials.rb#503
    def from_io(io, options); end
  end
end

# The default target audience ID to be used when none is provided during initialization.
#
# source://googleauth//lib/googleauth/credentials.rb#81
Google::Auth::Credentials::AUDIENCE = T.let(T.unsafe(nil), String)

# The default token credential URI to be used when none is provided during initialization.
#
# source://googleauth//lib/googleauth/credentials.rb#77
Google::Auth::Credentials::TOKEN_CREDENTIAL_URI = T.let(T.unsafe(nil), String)

# Generic error raised during operation of Credentials
# This should be used for all purposes not covered by other errors.
#
# source://googleauth//lib/googleauth/errors.rb#80
class Google::Auth::CredentialsError < ::StandardError
  include ::Google::Auth::Error
  include ::Google::Auth::DetailedError
  extend ::Google::Auth::DetailedError::ClassMethods
end

# CredentialsLoader contains the behaviour used to locate and find default
# credentials files on the file system.
#
# source://googleauth//lib/googleauth/credentials_loader.rb#26
module Google::Auth::CredentialsLoader
  # Creates an instance from the path specified in an environment
  # variable.
  #
  # @param options [Hash] Connection options. These may be used to configure
  #   how OAuth tokens are retrieved, by providing a suitable
  #   `Faraday::Connection`. For example, if a connection proxy must be
  #   used in the current network, you may provide a connection with
  #   with the needed proxy options.
  #   The following keys are recognized:
  #   * `:default_connection` The connection object to use.
  #   * `:connection_builder` A `Proc` that returns a connection.
  # @param scope [string|array|nil] the scope(s) to access
  # @raise [Google::Auth::InitializationError] If the credentials file cannot be read
  #
  # source://googleauth//lib/googleauth/credentials_loader.rb#77
  def from_env(scope = T.unsafe(nil), options = T.unsafe(nil)); end

  # Creates an instance from the system default path
  #
  # @param options [Hash] Connection options. These may be used to configure
  #   how OAuth tokens are retrieved, by providing a suitable
  #   `Faraday::Connection`. For example, if a connection proxy must be
  #   used in the current network, you may provide a connection with
  #   with the needed proxy options.
  #   The following keys are recognized:
  #   * `:default_connection` The connection object to use.
  #   * `:connection_builder` A `Proc` that returns a connection.
  # @param scope [string|array|nil] the scope(s) to access
  # @raise [Google::Auth::InitializationError] If the credentials file cannot be read or is invalid
  #
  # source://googleauth//lib/googleauth/credentials_loader.rb#131
  def from_system_default_path(scope = T.unsafe(nil), options = T.unsafe(nil)); end

  # Creates an instance from a well known path.
  #
  # @param options [Hash] Connection options. These may be used to configure
  #   how OAuth tokens are retrieved, by providing a suitable
  #   `Faraday::Connection`. For example, if a connection proxy must be
  #   used in the current network, you may provide a connection with
  #   with the needed proxy options.
  #   The following keys are recognized:
  #   * `:default_connection` The connection object to use.
  #   * `:connection_builder` A `Proc` that returns a connection.
  # @param scope [string|array|nil] the scope(s) to access
  # @raise [Google::Auth::InitializationError] If the credentials file cannot be read
  #
  # source://googleauth//lib/googleauth/credentials_loader.rb#104
  def from_well_known_path(scope = T.unsafe(nil), options = T.unsafe(nil)); end

  # make_creds proxies the construction of a credentials instance
  #
  # By default, it calls #new on the current class, but this behaviour can
  # be modified, allowing different instances to be created.
  #
  # source://googleauth//lib/googleauth/credentials_loader.rb#58
  def make_creds(*args); end

  private

  # source://googleauth//lib/googleauth/credentials_loader.rb#192
  def authorized_user_env_vars?; end

  # source://googleauth//lib/googleauth/credentials_loader.rb#178
  def interpret_options(scope, options); end

  # Loads a JSON key from an IO object, verifies its type, and rewinds the IO.
  #
  # @param expected_type [String] The expected credential type name.
  # @param json_key_io [IO] An IO object containing the JSON key.
  # @private
  # @raise [Google::Auth::InitializationError] If the JSON key type does not match the expected type.
  #
  # source://googleauth//lib/googleauth/credentials_loader.rb#167
  def load_and_verify_json_key_type(json_key_io, expected_type); end

  # Finds project_id from gcloud CLI configuration
  #
  # source://googleauth//lib/googleauth/credentials_loader.rb#151
  def load_gcloud_project_id; end

  # source://googleauth//lib/googleauth/credentials_loader.rb#187
  def service_account_env_vars?; end

  class << self
    # Loads a JSON key from an IO object, verifies its type, and rewinds the IO.
    #
    # @param expected_type [String] The expected credential type name.
    # @param json_key_io [IO] An IO object containing the JSON key.
    # @private
    # @raise [Google::Auth::InitializationError] If the JSON key type does not match the expected type.
    #
    # source://googleauth//lib/googleauth/credentials_loader.rb#167
    def load_and_verify_json_key_type(json_key_io, expected_type); end

    # Finds project_id from gcloud CLI configuration
    #
    # source://googleauth//lib/googleauth/credentials_loader.rb#151
    def load_gcloud_project_id; end
  end
end

# source://googleauth//lib/googleauth/credentials_loader.rb#33
Google::Auth::CredentialsLoader::ACCOUNT_TYPE_VAR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#37
Google::Auth::CredentialsLoader::AWS_ACCESS_KEY_ID_VAR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#36
Google::Auth::CredentialsLoader::AWS_DEFAULT_REGION_VAR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#35
Google::Auth::CredentialsLoader::AWS_REGION_VAR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#38
Google::Auth::CredentialsLoader::AWS_SECRET_ACCESS_KEY_VAR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#39
Google::Auth::CredentialsLoader::AWS_SESSION_TOKEN_VAR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#29
Google::Auth::CredentialsLoader::CLIENT_EMAIL_VAR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#30
Google::Auth::CredentialsLoader::CLIENT_ID_VAR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#31
Google::Auth::CredentialsLoader::CLIENT_SECRET_VAR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#51
Google::Auth::CredentialsLoader::CLOUD_SDK_CLIENT_ID = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#44
Google::Auth::CredentialsLoader::CREDENTIALS_FILE_NAME = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#27
Google::Auth::CredentialsLoader::ENV_VAR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#42
Google::Auth::CredentialsLoader::GCLOUD_CONFIG_COMMAND = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#40
Google::Auth::CredentialsLoader::GCLOUD_POSIX_COMMAND = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#41
Google::Auth::CredentialsLoader::GCLOUD_WINDOWS_COMMAND = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#45
Google::Auth::CredentialsLoader::NOT_FOUND_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#28
Google::Auth::CredentialsLoader::PRIVATE_KEY_VAR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#34
Google::Auth::CredentialsLoader::PROJECT_ID_VAR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#32
Google::Auth::CredentialsLoader::REFRESH_TOKEN_VAR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#49
Google::Auth::CredentialsLoader::SYSTEM_DEFAULT_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#47
Google::Auth::CredentialsLoader::WELL_KNOWN_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/credentials_loader.rb#46
Google::Auth::CredentialsLoader::WELL_KNOWN_PATH = T.let(T.unsafe(nil), String)

# DefaultCredentials is used to preload the credentials file, to determine
# which type of credentials should be loaded.
#
# source://googleauth//lib/googleauth/default_credentials.rb#32
class Google::Auth::DefaultCredentials
  extend ::Google::Auth::CredentialsLoader

  class << self
    # Reads the input json and determines which creds class to use.
    #
    # @param json_key_io [IO, nil] An optional IO object containing the JSON key.
    #   If nil, the credential type is determined from environment variables.
    # @raise [Google::Auth::InitializationError] If the JSON is missing the type field or has an unsupported type,
    #   or if the environment variable is undefined or unsupported.
    # @return [Array(Hash, Class)] The JSON key (or nil if from environment) and the credential class to use
    #
    # source://googleauth//lib/googleauth/default_credentials.rb#98
    def determine_creds_class(json_key_io = T.unsafe(nil)); end

    # Override CredentialsLoader#make_creds to use the class determined by
    # loading the json.
    #
    # **Important:** If you accept a credential configuration (credential
    # JSON/File/Stream) from an external source for authentication to Google
    # Cloud, you must validate it before providing it to any Google API or
    # library. Providing an unvalidated credential configuration to Google
    # APIs can compromise the security of your systems and data. For more
    # information, refer to [Validate credential configurations from external
    # sources](https://cloud.google.com/docs/authentication/external/externally-sourced-credentials).
    #
    # @deprecated This method is deprecated and will be removed in a future version.
    #   Please use the `make_creds` method on the specific credential class you intend to load,
    #   e.g., `Google::Auth::ServiceAccountCredentials.make_creds`.
    #
    #   This method does not validate the credential configuration. The security
    #   risk occurs when a credential configuration is accepted from a source that
    #   is not under your control and used without validation on your side.
    #
    #   If you know that you will be loading credential configurations of a
    #   specific type, it is recommended to use a credential-type-specific
    #   `make_creds` method.
    #   This will ensure that an unexpected credential type with potential for
    #   malicious intent is not loaded unintentionally. You might still have to do
    #   validation for certain credential types. Please follow the recommendation
    #   for that method. For example, if you want to load only service accounts,
    #   you can use:
    #   ```
    #   creds = Google::Auth::ServiceAccountCredentials.make_creds
    #   ```
    #   @see Google::Auth::ServiceAccountCredentials.make_creds
    #
    #   If you are loading your credential configuration from an untrusted source and have
    #   not mitigated the risks (e.g. by validating the configuration yourself), make
    #   these changes as soon as possible to prevent security risks to your environment.
    #
    #   Regardless of the method used, it is always your responsibility to validate
    #   configurations received from external sources.
    #
    #   See https://cloud.google.com/docs/authentication/external/externally-sourced-credentials for more details.
    # @param options [Hash] Options for creating the credentials
    # @raise [Google::Auth::InitializationError] If the credentials cannot be determined
    # @return [Google::Auth::Credentials] The credentials instance
    #
    # source://googleauth//lib/googleauth/default_credentials.rb#80
    def make_creds(options = T.unsafe(nil)); end
  end
end

# Mixin module that contains detailed error information
# typically this is available if credentials initialization
# succeeds and credentials object is valid
#
# source://googleauth//lib/googleauth/errors.rb#32
module Google::Auth::DetailedError
  include ::Google::Auth::Error

  mixes_in_class_methods ::Google::Auth::DetailedError::ClassMethods

  # The type of the credentials that the error was originated from
  #
  # @return [String, nil] The class name of the credential that raised the error
  #
  # source://googleauth//lib/googleauth/errors.rb#37
  def credential_type_name; end

  # All details passed in the options hash when creating the error
  #
  # @return [Hash] Additional details about the error
  #
  # source://googleauth//lib/googleauth/errors.rb#45
  def details; end

  # The principal for the authentication flow. Typically obtained from credentials
  #
  # @return [String, Symbol, nil] The principal identifier associated with the credentials
  #
  # source://googleauth//lib/googleauth/errors.rb#41
  def principal; end

  class << self
    # @private
    # @private
    #
    # source://googleauth//lib/googleauth/errors.rb#48
    def included(base); end
  end
end

# Class methods to be added to including classes
#
# source://googleauth//lib/googleauth/errors.rb#53
module Google::Auth::DetailedError::ClassMethods
  # Creates a new error with detailed information
  #
  # @param credential_type_name [String] The credential type that raised the error
  # @param message [String] The error message
  # @param principal [String, Symbol] The principal for the authentication flow
  # @return [Error] The new error with details
  #
  # source://googleauth//lib/googleauth/errors.rb#59
  def with_details(message, credential_type_name:, principal:); end
end

# Error mixin module for Google Auth errors
# All Google Auth errors should include this module
#
# source://googleauth//lib/googleauth/errors.rb#25
module Google::Auth::Error; end

# Authenticates requests using External Account credentials, such
# as those provided by the AWS provider.
#
# source://googleauth//lib/googleauth/external_account/base_credentials.rb#24
module Google::Auth::ExternalAccount; end

# This module handles the retrieval of credentials from Google Cloud by utilizing the AWS EC2 metadata service and
# then exchanging the credentials for a short-lived Google Cloud access token.
#
# source://googleauth//lib/googleauth/external_account/aws_credentials.rb#27
class Google::Auth::ExternalAccount::AwsCredentials
  include ::Google::Auth::BaseClient
  include ::Google::Auth::Helpers::Connection
  include ::Google::Auth::ExternalAccount::BaseCredentials
  include ::Google::Auth::ExternalAccount::ExternalAccountUtils
  extend ::Google::Auth::CredentialsLoader

  # @return [AwsCredentials] a new instance of AwsCredentials
  #
  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#38
  def initialize(options = T.unsafe(nil)); end

  # Will always be nil, but method still gets used.
  #
  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#36
  def client_id; end

  # Retrieves the subject token using the credential_source object.
  # The subject token is a serialized [AWS GetCallerIdentity signed request](
  #   https://cloud.google.com/iam/docs/access-resources-aws#exchange-token).
  #
  # The logic is summarized as:
  #
  # Retrieve the AWS region from the AWS_REGION or AWS_DEFAULT_REGION environment variable or from the AWS
  # metadata server availability-zone if not found in the environment variable.
  #
  # Check AWS credentials in environment variables. If not found, retrieve from the AWS metadata server
  # security-credentials endpoint.
  #
  # When retrieving AWS credentials from the metadata server security-credentials endpoint, the AWS role needs to
  # be determined by # calling the security-credentials endpoint without any argument.
  # Then the credentials can be retrieved via: security-credentials/role_name
  #
  # Generate the signed request to AWS STS GetCallerIdentity action.
  #
  # Inject x-goog-cloud-target-resource into header and serialize the signed request.
  # This will be the subject-token to pass to GCP STS.
  #
  # @return [string] The retrieved subject token.
  #
  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#79
  def retrieve_subject_token!; end

  private

  # Retrieves the AWS role currently attached to the current AWS workload by querying the AWS metadata server.
  # This is needed for the AWS metadata server security credentials endpoint in order to retrieve the AWS security
  # credentials needed to sign requests to AWS APIs.
  #
  # @raise [Google::Auth::CredentialsError] If the credential verification URL is not set or if the request fails
  # @return [String] The AWS role name
  #
  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#214
  def fetch_metadata_role_name; end

  # Retrieves the AWS security credentials required for signing AWS requests from the AWS metadata server.
  #
  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#227
  def fetch_metadata_security_credentials(role_name); end

  # Retrieves the AWS security credentials required for signing AWS requests from either the AWS security
  # credentials environment variables or from the AWS metadata server.
  #
  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#184
  def fetch_security_credentials; end

  # Makes a request to an AWS resource endpoint
  #
  # @param data [Hash, nil] Optional data to send in POST requests
  # @param headers [Hash] Optional request headers
  # @param name [String] Resource name for error messages
  # @param url [String] The AWS endpoint URL
  # @raise [Google::Auth::CredentialsError] If the request fails
  # @return [Faraday::Response] The successful response
  #
  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#154
  def get_aws_resource(url, name, data: T.unsafe(nil), headers: T.unsafe(nil)); end

  # Retrieves an IMDSv2 session token or returns a cached token if valid
  #
  # @raise [Google::Auth::CredentialsError] If the token URL is missing or there's an error retrieving the token
  # @return [String] The IMDSv2 session token
  #
  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#114
  def imdsv2_session_token; end

  # @return [Boolean]
  #
  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#141
  def imdsv2_session_token_invalid?; end

  # Reads the name of the AWS region from the environment
  #
  # @raise [Google::Auth::CredentialsError] If the region is not set in the environment
  #   and the region_url was not set in credentials source
  # @return [String] The name of the AWS region
  #
  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#237
  def region; end

  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#174
  def uri_escape(string); end
end

# Constant for imdsv2 session token expiration in seconds
#
# source://googleauth//lib/googleauth/external_account/aws_credentials.rb#29
Google::Auth::ExternalAccount::AwsCredentials::IMDSV2_TOKEN_EXPIRATION_IN_SECONDS = T.let(T.unsafe(nil), Integer)

# Implements an AWS request signer based on the AWS Signature Version 4 signing process.
# https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html
#
# source://googleauth//lib/googleauth/external_account/aws_credentials.rb#258
class Google::Auth::ExternalAccount::AwsRequestSigner
  # Instantiates an AWS request signer used to compute authenticated signed requests to AWS APIs based on the AWS
  # Signature Version 4 signing process.
  #
  # @param region_name [string] The AWS region to use.
  # @return [AwsRequestSigner] a new instance of AwsRequestSigner
  #
  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#264
  def initialize(region_name); end

  # Generates an AWS signature version 4 signed request.
  #
  # Creates a signed request following the AWS Signature Version 4 process, which
  # provides secure authentication for AWS API calls. The process includes creating
  # canonical request strings, calculating signatures using the AWS credentials, and
  # building proper authorization headers.
  #
  # For detailed information on the signing process, see:
  # https://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html
  #
  # @param aws_credentials [Hash] The AWS security credentials with the following keys:
  #   @option aws_credentials [String] :access_key_id The AWS access key ID
  #   @option aws_credentials [String] :secret_access_key The AWS secret access key
  #   @option aws_credentials [String, nil] :session_token Optional AWS session token
  # @param original_request [Hash] The request to sign with the following keys:
  #   @option original_request [String] :url The AWS service URL (must be HTTPS)
  #   @option original_request [String] :method The HTTP method (GET, POST, etc.)
  #   @option original_request [Hash, nil] :headers Optional request headers
  #   @option original_request [String, nil] :data Optional request payload
  # @raise [Google::Auth::CredentialsError] If the AWS service URL is invalid
  # @return [Hash] The signed request with the following keys:
  #   * :url - The original URL as a string
  #   * :headers - A hash of headers with the authorization header added
  #   * :method - The HTTP method
  #   * :data - The request payload (if present)
  #
  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#296
  def generate_signed_request(aws_credentials, original_request); end

  private

  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#334
  def aws_headers(aws_credentials, original_request, datetime); end

  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#345
  def build_authorization_header(headers, sts, aws_credentials, service_name, date); end

  # Generates the canonical query string given a raw query string.
  # Logic is based on
  # https://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html
  # Code is from the AWS SDK for Ruby
  # https://github.com/aws/aws-sdk-ruby/blob/0ac3d0a393ed216290bfb5f0383380376f6fb1f1/gems/aws-sigv4/lib/aws-sigv4/signer.rb#L532
  #
  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#424
  def build_canonical_querystring(query); end

  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#402
  def canonical_request(http_method, uri, headers, content_sha256); end

  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#371
  def credential(access_key_id, date, service); end

  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#375
  def credential_scope(date, service); end

  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#367
  def hexhmac(key, value); end

  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#363
  def hmac(key, value); end

  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#393
  def host(uri); end

  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#415
  def sha256_hexdigest(string); end

  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#354
  def signature(secret_access_key, date, string_to_sign, service); end

  # source://googleauth//lib/googleauth/external_account/aws_credentials.rb#384
  def string_to_sign(datetime, canonical_request, service); end
end

# Authenticates requests using External Account credentials, such
# as those provided by the AWS provider or OIDC provider like Azure, etc.
#
# source://googleauth//lib/googleauth/external_account/base_credentials.rb#27
module Google::Auth::ExternalAccount::BaseCredentials
  include ::Google::Auth::BaseClient
  include ::Google::Auth::Helpers::Connection

  # Returns the value of attribute access_token.
  #
  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#45
  def access_token; end

  # Sets the attribute access_token
  #
  # @param value the value to set the attribute access_token to.
  #
  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#45
  def access_token=(_arg0); end

  # Returns the value of attribute expires_at.
  #
  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#44
  def expires_at; end

  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#53
  def expires_at=(new_expires_at); end

  # @return [Boolean]
  #
  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#48
  def expires_within?(seconds); end

  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#57
  def fetch_access_token!(_options = T.unsafe(nil)); end

  # Returns whether the credentials represent a workforce pool (True) or
  # workload (False) based on the credentials' audience.
  #
  # @return [bool] true if the credentials represent a workforce pool.
  #   false if they represent a workload.
  #
  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#89
  def is_workforce_pool?; end

  # For external account credentials, the principal is
  # represented by the audience, such as a workforce pool
  #
  # @private
  # @return [String] the GCP principal, e.g. a workforce pool
  #
  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#97
  def principal; end

  # Retrieves the subject token using the credential_source object.
  #
  # @raise [NoMethodError]
  # @return [string] The retrieved subject token.
  #
  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#79
  def retrieve_subject_token!; end

  # Returns the value of attribute universe_domain.
  #
  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#46
  def universe_domain; end

  # Sets the attribute universe_domain
  #
  # @param value the value to set the attribute universe_domain to.
  #
  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#46
  def universe_domain=(_arg0); end

  private

  # A common method for Other credentials to call during initialization
  #
  # @raise [Google::Auth::InitializationError] If workforce_pool_user_project is incorrectly set
  #
  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#110
  def base_setup(options); end

  # Exchange tokens at STS endpoint
  #
  # @raise [Google::Auth::AuthorizationError] If the token exchange request fails
  #
  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#140
  def exchange_token; end

  # Exchanges a token for an impersonated service account access token
  #
  # @param _options [Hash] Additional options (not used)
  # @param token [String] The token to exchange
  # @raise [Google::Auth::CredentialsError] If the impersonation request fails
  # @return [Hash] The response containing the impersonated access token
  #
  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#188
  def get_impersonated_access_token(token, _options = T.unsafe(nil)); end

  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#207
  def log_impersonated_token_request(original_token); end

  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#164
  def log_token_request(token_request); end

  # source://googleauth//lib/googleauth/external_account/base_credentials.rb#103
  def token_type; end
end

# External account JSON type identifier.
#
# source://googleauth//lib/googleauth/external_account/base_credentials.rb#33
Google::Auth::ExternalAccount::BaseCredentials::EXTERNAL_ACCOUNT_JSON_TYPE = T.let(T.unsafe(nil), String)

# Default IAM_SCOPE
#
# source://googleauth//lib/googleauth/external_account/base_credentials.rb#39
Google::Auth::ExternalAccount::BaseCredentials::IAM_SCOPE = T.let(T.unsafe(nil), Array)

# The token exchange grant_type used for exchanging credentials.
#
# source://googleauth//lib/googleauth/external_account/base_credentials.rb#35
Google::Auth::ExternalAccount::BaseCredentials::STS_GRANT_TYPE = T.let(T.unsafe(nil), String)

# The token exchange requested_token_type. This is always an access_token.
#
# source://googleauth//lib/googleauth/external_account/base_credentials.rb#37
Google::Auth::ExternalAccount::BaseCredentials::STS_REQUESTED_TOKEN_TYPE = T.let(T.unsafe(nil), String)

# Provides an entrypoint for all Exernal Account credential classes.
#
# source://googleauth//lib/googleauth/external_account.rb#31
class Google::Auth::ExternalAccount::Credentials
  class << self
    # Create a ExternalAccount::Credentials
    #
    # This method does not validate the credential configuration. A security
    # risk occurs when a credential configuration configured with malicious urls
    # is used.
    # When the credential configuration is accepted from an
    # untrusted source, you should validate it before using with this method.
    # See https://cloud.google.com/docs/authentication/external/externally-sourced-credentials
    # for more details.
    #
    # @note Warning:
    # @option options
    # @option options
    # @param options [Hash] Options for creating credentials
    # @raise [Google::Auth::InitializationError] If the json file is missing, lacks required fields,
    #   or does not contain a supported credential source
    # @return [Google::Auth::ExternalAccount::AwsCredentials, Google::Auth::ExternalAccount::IdentityPoolCredentials, Google::Auth::ExternalAccount::PluggableAuthCredentials] The appropriate external account credentials based on the credential source
    #
    # source://googleauth//lib/googleauth/external_account.rb#61
    def make_creds(options = T.unsafe(nil)); end

    # Reads the required fields from the JSON.
    #
    # @param json_key_io [IO] An IO object containing the JSON key
    # @raise [Google::Auth::InitializationError] If the JSON is missing required fields
    # @return [Hash] The parsed JSON key
    #
    # source://googleauth//lib/googleauth/external_account.rb#88
    def read_json_key(json_key_io); end

    private

    # Creates AWS credentials from the provided user credentials
    #
    # @param scope [String, Array, nil] The scope(s) to access
    # @param user_creds [Hash] The user credentials containing AWS credential source information
    # @return [Google::Auth::ExternalAccount::AwsCredentials] The AWS credentials
    #
    # source://googleauth//lib/googleauth/external_account.rb#107
    def make_aws_credentials(user_creds, scope); end

    # Creates the appropriate external account credentials based on the credential source type
    #
    # @param user_creds [Hash] The user credentials containing credential source information
    # @raise [Google::Auth::InitializationError] If the credential source is not a supported type
    # @return [Google::Auth::ExternalAccount::IdentityPoolCredentials, Google::Auth::ExternalAccount::PluggableAuthCredentials] The appropriate external account credentials
    #
    # source://googleauth//lib/googleauth/external_account.rb#126
    def make_external_account_credentials(user_creds); end
  end
end

# The subject token type used for AWS external_account credentials.
#
# source://googleauth//lib/googleauth/external_account.rb#33
Google::Auth::ExternalAccount::Credentials::AWS_SUBJECT_TOKEN_TYPE = T.let(T.unsafe(nil), String)

# @private
#
# source://googleauth//lib/googleauth/external_account.rb#39
Google::Auth::ExternalAccount::Credentials::CREDENTIAL_TYPE_NAME = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/external_account.rb#35
Google::Auth::ExternalAccount::Credentials::INVALID_EXTERNAL_ACCOUNT_TYPE = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/external_account.rb#34
Google::Auth::ExternalAccount::Credentials::MISSING_CREDENTIAL_SOURCE = T.let(T.unsafe(nil), String)

# Authenticates requests using External Account credentials, such
# as those provided by the AWS provider or OIDC provider like Azure, etc.
#
# source://googleauth//lib/googleauth/external_account/external_account_utils.rb#27
module Google::Auth::ExternalAccount::ExternalAccountUtils
  # Normalizes a timestamp value to a Time object
  #
  # @param time [Time, String, nil] The timestamp to normalize
  # @raise [Google::Auth::CredentialsError] If the time value is not nil, Time, or String
  # @return [Time, nil] The normalized timestamp or nil if input is nil
  #
  # source://googleauth//lib/googleauth/external_account/external_account_utils.rb#84
  def normalize_timestamp(time); end

  # Retrieves the project ID corresponding to the workload identity or workforce pool.
  # For workforce pool credentials, it returns the project ID corresponding to the workforce_pool_user_project.
  # When not determinable, None is returned.
  #
  # The resource may not have permission (resourcemanager.projects.get) to
  # call this API or the required scopes may not be selected:
  # https://cloud.google.com/resource-manager/reference/rest/v1/projects/get#authorization-scopes
  #
  # @return [String, nil] The project ID corresponding to the workload identity
  #   pool or workforce pool if determinable
  #
  # source://googleauth//lib/googleauth/external_account/external_account_utils.rb#43
  def project_id; end

  # Retrieve the project number corresponding to workload identity pool
  # STS audience pattern:
  #     `//iam.googleapis.com/projects/$PROJECT_NUMBER/locations/...`
  #
  # @return [String, nil] The project number extracted from the audience string,
  #   or nil if it cannot be determined
  #
  # source://googleauth//lib/googleauth/external_account/external_account_utils.rb#72
  def project_number; end

  # Extracts the service account email from the impersonation URL
  #
  # @return [String, nil] The service account email extracted from the
  #   service_account_impersonation_url, or nil if it cannot be determined
  #
  # source://googleauth//lib/googleauth/external_account/external_account_utils.rb#101
  def service_account_email; end
end

# Cloud resource manager URL used to retrieve project information.
#
# source://googleauth//lib/googleauth/external_account/external_account_utils.rb#29
Google::Auth::ExternalAccount::ExternalAccountUtils::CLOUD_RESOURCE_MANAGER = T.let(T.unsafe(nil), String)

# This module handles the retrieval of credentials from Google Cloud by utilizing the any 3PI
# provider then exchanging the credentials for a short-lived Google Cloud access token.
#
# source://googleauth//lib/googleauth/external_account/identity_pool_credentials.rb#26
class Google::Auth::ExternalAccount::IdentityPoolCredentials
  include ::Google::Auth::BaseClient
  include ::Google::Auth::Helpers::Connection
  include ::Google::Auth::ExternalAccount::BaseCredentials
  include ::Google::Auth::ExternalAccount::ExternalAccountUtils
  extend ::Google::Auth::CredentialsLoader

  # Initialize from options map.
  #
  # @option options
  # @option options
  # @param options [Hash] Configuration options
  # @raise [Google::Auth::InitializationError] If credential_source format is invalid, field_name is missing,
  #   contains ambiguous sources, or is missing required fields
  # @return [IdentityPoolCredentials] a new instance of IdentityPoolCredentials
  #
  # source://googleauth//lib/googleauth/external_account/identity_pool_credentials.rb#43
  def initialize(options = T.unsafe(nil)); end

  # Will always be nil, but method still gets used.
  #
  # source://googleauth//lib/googleauth/external_account/identity_pool_credentials.rb#32
  def client_id; end

  # Implementation of BaseCredentials retrieve_subject_token!
  #
  # @raise [Google::Auth::CredentialsError] If the token can't be parsed from JSON or is missing
  # @return [String] The subject token
  #
  # source://googleauth//lib/googleauth/external_account/identity_pool_credentials.rb#60
  def retrieve_subject_token!; end

  private

  # Reads data from a file source
  #
  # @raise [Google::Auth::CredentialsError] If the source file doesn't exist
  # @return [Array(String, String)] The file content and file path
  #
  # source://googleauth//lib/googleauth/external_account/identity_pool_credentials.rb#112
  def file_data; end

  # source://googleauth//lib/googleauth/external_account/identity_pool_credentials.rb#104
  def token_data; end

  # Fetches data from a URL source
  #
  # @raise [Google::Auth::CredentialsError] If there's an error retrieving data from the URL
  #   or if the response is not successful
  # @return [Array(String, String)] The response body and URL
  #
  # source://googleauth//lib/googleauth/external_account/identity_pool_credentials.rb#126
  def url_data; end

  # Validates input
  #
  # @raise [Google::Auth::InitializationError] If credential_source format is invalid, field_name is missing,
  #   contains ambiguous sources, or is missing required fields
  #
  # source://googleauth//lib/googleauth/external_account/identity_pool_credentials.rb#83
  def validate_credential_source; end
end

# This module handles the retrieval of credentials from Google Cloud by utilizing the any 3PI
# provider then exchanging the credentials for a short-lived Google Cloud access token.
#
# source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#27
class Google::Auth::ExternalAccount::PluggableAuthCredentials
  include ::Google::Auth::BaseClient
  include ::Google::Auth::Helpers::Connection
  include ::Google::Auth::ExternalAccount::BaseCredentials
  include ::Google::Auth::ExternalAccount::ExternalAccountUtils
  extend ::Google::Auth::CredentialsLoader

  # Initialize from options map.
  #
  # @option options
  # @option options
  # @param options [Hash] Configuration options
  # @raise [Google::Auth::InitializationError] If executable source, command is missing, or timeout is invalid
  # @return [PluggableAuthCredentials] a new instance of PluggableAuthCredentials
  #
  # source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#50
  def initialize(options = T.unsafe(nil)); end

  # Will always be nil, but method still gets used.
  #
  # source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#41
  def client_id; end

  # Retrieves the subject token using the credential_source object.
  #
  # @raise [Google::Auth::CredentialsError] If executables are not allowed, if token retrieval fails,
  #   or if the token is invalid
  # @return [String] The retrieved subject token
  #
  # source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#78
  def retrieve_subject_token!; end

  private

  # source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#144
  def inject_environment_variables; end

  # source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#97
  def load_subject_token_from_output_file; end

  # @raise [CredentialsError]
  #
  # source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#115
  def parse_subject_token(response); end

  # source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#158
  def subprocess_with_timeout(environment_vars, command, timeout_seconds); end

  # @raise [CredentialsError]
  #
  # source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#136
  def validate_response_schema(response); end
end

# constant for pluggable auth enablement in environment variable.
#
# source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#29
Google::Auth::ExternalAccount::PluggableAuthCredentials::ENABLE_PLUGGABLE_ENV = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#30
Google::Auth::ExternalAccount::PluggableAuthCredentials::EXECUTABLE_SUPPORTED_MAX_VERSION = T.let(T.unsafe(nil), Integer)

# source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#31
Google::Auth::ExternalAccount::PluggableAuthCredentials::EXECUTABLE_TIMEOUT_MILLIS_DEFAULT = T.let(T.unsafe(nil), Integer)

# source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#32
Google::Auth::ExternalAccount::PluggableAuthCredentials::EXECUTABLE_TIMEOUT_MILLIS_LOWER_BOUND = T.let(T.unsafe(nil), Integer)

# source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#33
Google::Auth::ExternalAccount::PluggableAuthCredentials::EXECUTABLE_TIMEOUT_MILLIS_UPPER_BOUND = T.let(T.unsafe(nil), Integer)

# source://googleauth//lib/googleauth/external_account/pluggable_credentials.rb#34
Google::Auth::ExternalAccount::PluggableAuthCredentials::ID_TOKEN_TYPE = T.let(T.unsafe(nil), Array)

# Extends Signet::OAuth2::Client so that the auth token is obtained from
# the GCE metadata server.
#
# source://googleauth//lib/googleauth/compute_engine.rb#36
class Google::Auth::GCECredentials < ::Signet::OAuth2::Client
  # Construct a GCECredentials
  #
  # @return [GCECredentials] a new instance of GCECredentials
  #
  # source://googleauth//lib/googleauth/compute_engine.rb#88
  def initialize(options = T.unsafe(nil)); end

  # @private Temporary; remove when universe domain metadata endpoint is stable (see b/349488459).
  #
  # source://googleauth//lib/googleauth/compute_engine.rb#85
  def disable_universe_domain_check; end

  # @private Temporary; remove when universe domain metadata endpoint is stable (see b/349488459).
  #
  # source://googleauth//lib/googleauth/compute_engine.rb#85
  def disable_universe_domain_check=(_arg0); end

  # Creates a duplicate of these credentials
  # without the Signet::OAuth2::Client-specific
  # transient state (e.g. cached tokens)
  #
  # @param options [Hash] Overrides for the credentials parameters.
  #   The following keys are recognized in addition to keys in the
  #   Signet::OAuth2::Client
  #   * `:universe_domain_overridden` Whether the universe domain was
  #   overriden during credentials creation
  #
  # source://googleauth//lib/googleauth/compute_engine.rb#106
  def duplicate(options = T.unsafe(nil)); end

  # Overrides the super class method to change how access tokens are
  # fetched.
  #
  # @param _options [Hash] Options for token fetch (not used)
  # @raise [Google::Auth::UnexpectedStatusError] On unexpected HTTP status codes
  # @raise [Google::Auth::AuthorizationError] If metadata server is unavailable or returns error
  # @return [Hash] The token data hash
  #
  # source://googleauth//lib/googleauth/compute_engine.rb#135
  def fetch_access_token(_options = T.unsafe(nil)); end

  # Returns the principal identifier for GCE credentials
  #
  # @private
  # @return [Symbol] :gce to represent Google Compute Engine identity
  #
  # source://googleauth//lib/googleauth/compute_engine.rb#176
  def principal; end

  # Overrides universe_domain getter to fetch lazily if it hasn't been
  # fetched yet. This is necessary specifically for Compute Engine because
  # the universe comes from the metadata service, and isn't known
  # immediately on credential construction. All other credential types read
  # the universe from their json key or other immediate input.
  #
  # @private
  #
  # source://googleauth//lib/googleauth/compute_engine.rb#121
  def universe_domain; end

  # Destructively updates these credentials.
  #
  # This method is called by `Signet::OAuth2::Client`'s constructor
  #
  # @param options [Hash] Overrides for the credentials parameters.
  #   The following keys are recognized in addition to keys in the
  #   Signet::OAuth2::Client
  #   * `:universe_domain_overridden` Whether the universe domain was
  #   overriden during credentials creation
  # @return [Google::Auth::GCECredentials]
  #
  # source://googleauth//lib/googleauth/compute_engine.rb#162
  def update!(options = T.unsafe(nil)); end

  private

  # source://googleauth//lib/googleauth/compute_engine.rb#283
  def add_universe_domain_to(hash); end

  # The response might have been cached, which means expires_in might be
  # stale. Update it based on the time since the data was retrieved.
  # We also ensure expires_in is conservative; subtracting at least 1
  # second to offset any skew from metadata server latency.
  #
  # source://googleauth//lib/googleauth/compute_engine.rb#300
  def adjust_for_stale_expires_in(hash, retrieval_time); end

  # Builds query parameters and endpoint for metadata request
  #
  # @private
  # @return [Array] The query parameters and endpoint path
  #
  # source://googleauth//lib/googleauth/compute_engine.rb#185
  def build_metadata_request_params; end

  # Constructs a token hash from the metadata server response
  #
  # @param body [String] The response body from the metadata server
  # @param content_type [String] The content type of the response
  # @param retrieval_time [Float] The monotonic time when the response was retrieved
  # @private
  # @return [Hash] A hash containing:
  #   - access_token/id_token: The actual token depending on what was requested
  #   - token_type: The type of token (usually "Bearer")
  #   - expires_in: Seconds until token expiration (adjusted for freshness)
  #   - universe_domain: The universe domain for the token (if not overridden)
  #
  # source://googleauth//lib/googleauth/compute_engine.rb#262
  def build_token_hash(body, content_type, retrieval_time); end

  # Handles the response from the metadata server
  #
  # @param resp [Google::Cloud::Env::MetadataResponse] The metadata server response
  # @private
  # @raise [Google::Auth::UnexpectedStatusError, Google::Auth::AuthorizationError] On error
  # @return [Hash] The token hash on success
  #
  # source://googleauth//lib/googleauth/compute_engine.rb#201
  def handle_metadata_response(resp); end

  # source://googleauth//lib/googleauth/compute_engine.rb#241
  def log_fetch_err(_err); end

  # source://googleauth//lib/googleauth/compute_engine.rb#214
  def log_fetch_query; end

  # source://googleauth//lib/googleauth/compute_engine.rb#232
  def log_fetch_resp(resp); end

  # source://googleauth//lib/googleauth/compute_engine.rb#274
  def parse_encoded_token(body); end

  class << self
    # @private Unused and deprecated
    #
    # source://googleauth//lib/googleauth/compute_engine.rb#61
    def compute_auth_token_uri; end

    # @private Unused and deprecated
    #
    # source://googleauth//lib/googleauth/compute_engine.rb#56
    def compute_check_uri; end

    # @private Unused and deprecated
    #
    # source://googleauth//lib/googleauth/compute_engine.rb#66
    def compute_id_token_uri; end

    # @private Unused and deprecated
    #
    # source://googleauth//lib/googleauth/compute_engine.rb#51
    def metadata_host; end

    # Detect if this appear to be a GCE instance, by checking if metadata
    # is available.
    # The parameters are deprecated and unused.
    #
    # @return [Boolean]
    #
    # source://googleauth//lib/googleauth/compute_engine.rb#73
    def on_gce?(_options = T.unsafe(nil), _reload = T.unsafe(nil)); end

    # source://googleauth//lib/googleauth/compute_engine.rb#77
    def reset_cache; end

    # source://googleauth//lib/googleauth/compute_engine.rb#81
    def unmemoize_all; end
  end
end

# @private Unused and deprecated but retained to prevent breaking changes
#
# source://googleauth//lib/googleauth/compute_engine.rb#41
Google::Auth::GCECredentials::COMPUTE_AUTH_TOKEN_URI = T.let(T.unsafe(nil), String)

# @private Unused and deprecated but retained to prevent breaking changes
#
# source://googleauth//lib/googleauth/compute_engine.rb#47
Google::Auth::GCECredentials::COMPUTE_CHECK_URI = T.let(T.unsafe(nil), String)

# @private Unused and deprecated but retained to prevent breaking changes
#
# source://googleauth//lib/googleauth/compute_engine.rb#44
Google::Auth::GCECredentials::COMPUTE_ID_TOKEN_URI = T.let(T.unsafe(nil), String)

# @private Unused and deprecated but retained to prevent breaking changes
#
# source://googleauth//lib/googleauth/compute_engine.rb#38
Google::Auth::GCECredentials::DEFAULT_METADATA_HOST = T.let(T.unsafe(nil), String)

# Helpers provides utility methods for Google::Auth.
#
# source://googleauth//lib/googleauth/helpers/connection.rb#22
module Google::Auth::Helpers; end

# Connection provides a Faraday connection for use with Google::Auth.
#
# source://googleauth//lib/googleauth/helpers/connection.rb#24
module Google::Auth::Helpers::Connection
  private

  # source://googleauth//lib/googleauth/helpers/connection.rb#35
  def connection; end

  # source://googleauth//lib/googleauth/helpers/connection.rb#27
  def default_connection; end

  # source://googleauth//lib/googleauth/helpers/connection.rb#31
  def default_connection=(conn); end

  class << self
    # source://googleauth//lib/googleauth/helpers/connection.rb#35
    def connection; end

    # source://googleauth//lib/googleauth/helpers/connection.rb#27
    def default_connection; end

    # source://googleauth//lib/googleauth/helpers/connection.rb#31
    def default_connection=(conn); end
  end
end

# ## Verifying Google ID tokens
#
# This module verifies ID tokens issued by Google. This can be used to
# authenticate signed-in users using OpenID Connect. See
# https://developers.google.com/identity/sign-in/web/backend-auth for more
# information.
#
# ### Basic usage
#
# To verify an ID token issued by Google accounts:
#
#     payload = Google::Auth::IDTokens.verify_oidc the_token,
#                                                  aud: "my-app-client-id"
#
# If verification succeeds, you will receive the token's payload as a hash.
# If verification fails, an exception (normally a subclass of
# {Google::Auth::IDTokens::VerificationError}) will be raised.
#
# To verify an ID token issued by the Google identity-aware proxy (IAP):
#
#     payload = Google::Auth::IDTokens.verify_iap the_token,
#                                                 aud: "my-app-client-id"
#
# These methods will automatically download and cache the Google public
# keys necessary to verify these tokens. They will also automatically
# verify the issuer (`iss`) field for their respective types of ID tokens.
#
# ### Advanced usage
#
# If you want to provide your own public keys, either by pointing at a
# custom URI or by providing the key data directly, use the Verifier class
# and pass in a key source.
#
# To point to a custom URI that returns a JWK set:
#
#     source = Google::Auth::IDTokens::JwkHttpKeySource.new "https://example.com/jwk"
#     verifier = Google::Auth::IDTokens::Verifier.new key_source: source
#     payload = verifier.verify the_token, aud: "my-app-client-id"
#
# To provide key data directly:
#
#     jwk_data = {
#       keys: [
#         {
#           alg: "ES256",
#           crv: "P-256",
#           kid: "LYyP2g",
#           kty: "EC",
#           use: "sig",
#           x: "SlXFFkJ3JxMsXyXNrqzE3ozl_0913PmNbccLLWfeQFU",
#           y: "GLSahrZfBErmMUcHP0MGaeVnJdBwquhrhQ8eP05NfCI"
#         }
#       ]
#     }
#     source = Google::Auth::IDTokens::StaticKeySource.from_jwk_set jwk_data
#     verifier = Google::Auth::IDTokens::Verifier key_source: source
#     payload = verifier.verify the_token, aud: "my-app-client-id"
#
# source://googleauth//lib/googleauth/id_tokens/errors.rb#22
module Google::Auth::IDTokens
  class << self
    # Reset all convenience key sources. Used for testing.
    #
    # @private
    #
    # source://googleauth//lib/googleauth/id_tokens.rb#136
    def forget_sources!; end

    # The key source providing public keys that can be used to verify
    # ID tokens issued by Google IAP.
    #
    # @return [Google::Auth::IDTokens::JwkHttpKeySource]
    #
    # source://googleauth//lib/googleauth/id_tokens.rb#128
    def iap_key_source; end

    # The key source providing public keys that can be used to verify
    # ID tokens issued by Google OIDC.
    #
    # @return [Google::Auth::IDTokens::JwkHttpKeySource]
    #
    # source://googleauth//lib/googleauth/id_tokens.rb#118
    def oidc_key_source; end

    # A convenience method that verifies a token allegedly issued by Google
    # IAP.
    #
    # @param aud [String, Array<String>, nil] The expected audience. At least
    #   one `aud` field in the token must match at least one of the
    #   provided audiences, or the verification will fail with
    #   {Google::Auth::IDToken::AudienceMismatchError}. If `nil` (the
    #   default), no audience checking is performed.
    # @param azp [String, Array<String>, nil] The expected authorized party
    #   (azp). At least one `azp` field in the token must match at least
    #   one of the provided values, or the verification will fail with
    #   {Google::Auth::IDToken::AuthorizedPartyMismatchError}. If `nil`
    #   (the default), no azp checking is performed.
    # @param iss [String, Array<String>, nil] The expected issuer. At least
    #   one `iss` field in the token must match at least one of the
    #   provided issuers, or the verification will fail with
    #   {Google::Auth::IDToken::IssuerMismatchError}. If `nil`, no issuer
    #   checking is performed. Default is to check against {IAP_ISSUERS}.
    # @param token [String] The ID token to verify
    # @raise [Google::Auth::IDTokens::KeySourceError] if the key source failed to obtain public keys
    # @raise [Google::Auth::IDTokens::VerificationError] if the token verification failed.
    #   Additional data may be available in the error subclass and message.
    # @return [Hash] The decoded token payload.
    #
    # source://googleauth//lib/googleauth/id_tokens.rb#204
    def verify_iap(token, aud: T.unsafe(nil), azp: T.unsafe(nil), iss: T.unsafe(nil)); end

    # A convenience method that verifies a token allegedly issued by Google
    # OIDC.
    #
    # @param aud [String, Array<String>, nil] The expected audience. At least
    #   one `aud` field in the token must match at least one of the
    #   provided audiences, or the verification will fail with
    #   {Google::Auth::IDToken::AudienceMismatchError}. If `nil` (the
    #   default), no audience checking is performed.
    # @param azp [String, Array<String>, nil] The expected authorized party
    #   (azp). At least one `azp` field in the token must match at least
    #   one of the provided values, or the verification will fail with
    #   {Google::Auth::IDToken::AuthorizedPartyMismatchError}. If `nil`
    #   (the default), no azp checking is performed.
    # @param iss [String, Array<String>, nil] The expected issuer. At least
    #   one `iss` field in the token must match at least one of the
    #   provided issuers, or the verification will fail with
    #   {Google::Auth::IDToken::IssuerMismatchError}. If `nil`, no issuer
    #   checking is performed. Default is to check against {OIDC_ISSUERS}.
    # @param token [String] The ID token to verify
    # @raise [Google::Auth::IDTokens::KeySourceError] if the key source failed to obtain public keys
    # @raise [Google::Auth::IDTokens::VerificationError] if the token verification failed.
    #   Additional data may be available in the error subclass and message.
    # @return [Hash] The decoded token payload.
    #
    # source://googleauth//lib/googleauth/id_tokens.rb#167
    def verify_oidc(token, aud: T.unsafe(nil), azp: T.unsafe(nil), iss: T.unsafe(nil)); end
  end
end

# A key source that aggregates other key sources. This means it will
# aggregate the keys provided by its constituent sources. Additionally,
# when asked to refresh, it will refresh all its constituent sources.
#
# source://googleauth//lib/googleauth/id_tokens/key_sources.rb#357
class Google::Auth::IDTokens::AggregateKeySource
  # Create a key source that aggregates other key sources.
  #
  # @param sources [Array<key source>] The key sources to aggregate.
  # @return [AggregateKeySource] a new instance of AggregateKeySource
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#363
  def initialize(sources); end

  # Return the current keys, without attempting to refresh.
  #
  # @return [Array<KeyInfo>]
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#372
  def current_keys; end

  # Attempt to refresh keys and return the new keys.
  #
  # @raise [Google::Auth::IDTokens::KeySourceError] If key retrieval failed for any source.
  # @return [Array<KeyInfo>]
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#382
  def refresh_keys; end
end

# Failed to verify token because its audience did not match.
#
# source://googleauth//lib/googleauth/id_tokens/errors.rb#55
class Google::Auth::IDTokens::AudienceMismatchError < ::Google::Auth::IDTokens::VerificationError; end

# Failed to verify token because its authorized party did not match.
#
# source://googleauth//lib/googleauth/id_tokens/errors.rb#60
class Google::Auth::IDTokens::AuthorizedPartyMismatchError < ::Google::Auth::IDTokens::VerificationError; end

# Failed to verify token because it is expired.
#
# source://googleauth//lib/googleauth/id_tokens/errors.rb#40
class Google::Auth::IDTokens::ExpiredTokenError < ::Google::Auth::IDTokens::VerificationError; end

# A base key source that downloads keys from a URI. Subclasses should
# override {HttpKeySource#interpret_json} to parse the response.
#
# source://googleauth//lib/googleauth/id_tokens/key_sources.rb#222
class Google::Auth::IDTokens::HttpKeySource
  # Create an HTTP key source.
  #
  # @param retry_interval [Integer, nil] Override the retry interval in
  #   seconds. This is the minimum time between retries of failed key
  #   downloads.
  # @param uri [String, URI] The URI from which to download keys.
  # @return [HttpKeySource] a new instance of HttpKeySource
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#238
  def initialize(uri, retry_interval: T.unsafe(nil)); end

  # Return the current keys, without attempting to re-download.
  #
  # @return [Array<KeyInfo>]
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#257
  def current_keys; end

  # Attempt to re-download keys (if the retry interval has expired) and
  # return the new keys.
  #
  # @raise [Google::Auth::IDTokens::KeySourceError] If key retrieval fails, JSON parsing
  #   fails, or the data cannot be interpreted as keys
  # @return [Array<KeyInfo>]
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#267
  def refresh_keys; end

  # The URI from which to download keys.
  #
  # @return [Array<KeyInfo>]
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#250
  def uri; end

  protected

  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#287
  def interpret_json(_data); end
end

# The default interval between retries in seconds (3600s = 1hr).
#
# @return [Integer]
#
# source://googleauth//lib/googleauth/id_tokens/key_sources.rb#228
Google::Auth::IDTokens::HttpKeySource::DEFAULT_RETRY_INTERVAL = T.let(T.unsafe(nil), Integer)

# A list of issuers expected for Google IAP-issued tokens.
#
# @return [Array<String>]
#
# source://googleauth//lib/googleauth/id_tokens.rb#95
Google::Auth::IDTokens::IAP_ISSUERS = T.let(T.unsafe(nil), Array)

# The URL for Google IAP public keys
#
# @return [String]
#
# source://googleauth//lib/googleauth/id_tokens.rb#109
Google::Auth::IDTokens::IAP_JWK_URL = T.let(T.unsafe(nil), String)

# Failed to verify token because its issuer did not match.
#
# source://googleauth//lib/googleauth/id_tokens/errors.rb#50
class Google::Auth::IDTokens::IssuerMismatchError < ::Google::Auth::IDTokens::VerificationError; end

# A key source that downloads a JWK set.
#
# source://googleauth//lib/googleauth/id_tokens/key_sources.rb#332
class Google::Auth::IDTokens::JwkHttpKeySource < ::Google::Auth::IDTokens::HttpKeySource
  # Create a key source that downloads a JWT Set.
  #
  # @param retry_interval [Integer, nil] Override the retry interval in
  #   seconds. This is the minimum time between retries of failed key
  #   downloads.
  # @param uri [String, URI] The URI from which to download keys.
  # @return [JwkHttpKeySource] a new instance of JwkHttpKeySource
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#341
  def initialize(uri, retry_interval: T.unsafe(nil)); end

  protected

  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#347
  def interpret_json(data); end
end

# A public key used for verifying ID tokens.
#
# This includes the public key data, ID, and the algorithm used for
# signature verification. RSA and Elliptical Curve (EC) keys are
# supported.
#
# source://googleauth//lib/googleauth/id_tokens/key_sources.rb#36
class Google::Auth::IDTokens::KeyInfo
  # Create a public key info structure.
  #
  # @param algorithm [String] The algorithm (normally `RS256` or `ES256`)
  # @param id [String] The key ID.
  # @param key [OpenSSL::PKey::RSA, OpenSSL::PKey::EC] The key itself.
  # @return [KeyInfo] a new instance of KeyInfo
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#44
  def initialize(id: T.unsafe(nil), key: T.unsafe(nil), algorithm: T.unsafe(nil)); end

  # The signature algorithm. (normally `RS256` or `ES256`)
  #
  # @return [String]
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#66
  def algorithm; end

  # The key ID.
  #
  # @return [String]
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#54
  def id; end

  # The key itself.
  #
  # @return [OpenSSL::PKey::RSA, OpenSSL::PKey::EC]
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#60
  def key; end

  class << self
    # Create a KeyInfo from a single JWK, which may be given as either a
    # hash or an unparsed JSON string.
    #
    # @param jwk [Hash, String] The JWK specification.
    # @raise [Google::Auth::IDTokens::KeySourceError] If the key could not be extracted from the
    #   JWK due to invalid type, malformed JSON, or invalid key data.
    # @return [KeyInfo]
    #
    # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#78
    def from_jwk(jwk); end

    # Create an array of KeyInfo from a JWK Set, which may be given as
    # either a hash or an unparsed JSON string.
    #
    # @param jwk_set [Hash, String] The JWK Set specification.
    # @raise [Google::Auth::IDTokens::KeySourceError] If a key could not be extracted from the
    #   JWK Set, or if the set contains no keys.
    # @return [Array<KeyInfo>]
    #
    # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#102
    def from_jwk_set(jwk_set); end

    private

    # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#111
    def ensure_json_parsed(input); end

    # @raise [KeySourceError]
    #
    # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#146
    def extract_ec_key(jwk); end

    # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#124
    def extract_rsa_key(jwk); end

    # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#118
    def symbolize_keys(hash); end
  end
end

# Failed to obtain keys from the key source.
#
# source://googleauth//lib/googleauth/id_tokens/errors.rb#26
class Google::Auth::IDTokens::KeySourceError < ::StandardError
  include ::Google::Auth::Error
end

# The URL for Google OAuth2 V3 public certs
#
# @return [String]
#
# source://googleauth//lib/googleauth/id_tokens.rb#102
Google::Auth::IDTokens::OAUTH2_V3_CERTS_URL = T.let(T.unsafe(nil), String)

# A list of issuers expected for Google OIDC-issued tokens.
#
# @return [Array<String>]
#
# source://googleauth//lib/googleauth/id_tokens.rb#88
Google::Auth::IDTokens::OIDC_ISSUERS = T.let(T.unsafe(nil), Array)

# Failed to verify token because its signature did not match.
#
# source://googleauth//lib/googleauth/id_tokens/errors.rb#45
class Google::Auth::IDTokens::SignatureError < ::Google::Auth::IDTokens::VerificationError; end

# A key source that contains a static set of keys.
#
# source://googleauth//lib/googleauth/id_tokens/key_sources.rb#173
class Google::Auth::IDTokens::StaticKeySource
  # Create a static key source with the given keys.
  #
  # @param keys [Array<KeyInfo>] The keys
  # @return [StaticKeySource] a new instance of StaticKeySource
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#179
  def initialize(keys); end

  # Return the current keys. Does not perform any refresh.
  #
  # @return [Array<KeyInfo>]
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#188
  def current_keys; end

  # Return the current keys. Does not perform any refresh.
  #
  # @return [Array<KeyInfo>]
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#189
  def refresh_keys; end

  class << self
    # Create a static key source containing a single key parsed from a
    # single JWK, which may be given as either a hash or an unparsed
    # JSON string.
    #
    # @param jwk [Hash, String] The JWK specification.
    # @return [StaticKeySource]
    #
    # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#200
    def from_jwk(jwk); end

    # Create a static key source containing multiple keys parsed from a
    # JWK Set, which may be given as either a hash or an unparsed JSON
    # string.
    #
    # @param jwk_set [Hash, String] The JWK Set specification.
    # @return [StaticKeySource]
    #
    # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#212
    def from_jwk_set(jwk_set); end
  end
end

# Failed to verify a token.
#
# source://googleauth//lib/googleauth/id_tokens/errors.rb#33
class Google::Auth::IDTokens::VerificationError < ::StandardError
  include ::Google::Auth::Error
end

# An object that can verify ID tokens.
#
# A verifier maintains a set of default settings, including the key
# source and fields to verify. However, individual verification calls can
# override any of these settings.
#
# source://googleauth//lib/googleauth/id_tokens/verifier.rb#29
class Google::Auth::IDTokens::Verifier
  # Create a verifier.
  #
  # @param aud [String, nil] The default audience (`aud`) check, or `nil`
  #   for no check.
  # @param azp [String, nil] The default authorized party (`azp`) check,
  #   or `nil` for no check.
  # @param iss [String, nil] The default issuer (`iss`) check, or `nil`
  #   for no check.
  # @param key_source [key source] The default key source to use. All
  #   verification calls must have a key source, so if no default key
  #   source is provided here, then calls to {#verify} _must_ provide
  #   a key source.
  # @return [Verifier] a new instance of Verifier
  #
  # source://googleauth//lib/googleauth/id_tokens/verifier.rb#44
  def initialize(key_source: T.unsafe(nil), aud: T.unsafe(nil), azp: T.unsafe(nil), iss: T.unsafe(nil)); end

  # Verify the given token.
  #
  # @param aud [String, nil] If given, override the `aud` check.
  # @param azp [String, nil] If given, override the `azp` check.
  # @param iss [String, nil] If given, override the `iss` check.
  # @param key_source [key source] If given, override the key source.
  # @param token [String] the ID token to verify.
  # @raise [Google::Auth::IDTokens::KeySourceError] if the key source failed to obtain public keys
  # @raise [Google::Auth::IDTokens::VerificationError] if the token verification failed.
  #   Additional data may be available in the error subclass and message.
  # @return [Hash] the decoded payload, if verification succeeded.
  #
  # source://googleauth//lib/googleauth/id_tokens/verifier.rb#67
  def verify(token, key_source: T.unsafe(nil), aud: T.unsafe(nil), azp: T.unsafe(nil), iss: T.unsafe(nil)); end

  private

  # source://googleauth//lib/googleauth/id_tokens/verifier.rb#90
  def decode_token(token, keys, aud, azp, iss); end

  # source://googleauth//lib/googleauth/id_tokens/verifier.rb#105
  def normalize_and_verify_payload(payload, aud, azp, iss); end
end

# A key source that downloads X509 certificates.
# Used by the legacy OAuth V1 public certs endpoint.
#
# source://googleauth//lib/googleauth/id_tokens/key_sources.rb#296
class Google::Auth::IDTokens::X509CertHttpKeySource < ::Google::Auth::IDTokens::HttpKeySource
  # Create a key source that downloads X509 certificates.
  #
  # @param algorithm [String] The algorithm to use for signature
  #   verification. Defaults to "`RS256`".
  # @param retry_interval [Integer, nil] Override the retry interval in
  #   seconds. This is the minimum time between retries of failed key
  #   downloads.
  # @param uri [String, URI] The URI from which to download keys.
  # @return [X509CertHttpKeySource] a new instance of X509CertHttpKeySource
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#307
  def initialize(uri, algorithm: T.unsafe(nil), retry_interval: T.unsafe(nil)); end

  protected

  # Interpret JSON data as X509 certificates
  #
  # @param data [Hash] The JSON data containing certificate strings
  # @raise [Google::Auth::IDTokens::KeySourceError] If X509 certificates cannot be parsed
  # @return [Array<KeyInfo>] Array of key info objects
  #
  # source://googleauth//lib/googleauth/id_tokens/key_sources.rb#319
  def interpret_json(data); end
end

# Authenticates requests using impersonation from base credentials.
# This is a two-step process: first authentication claim from the base credentials is created
# and then that claim is exchanged for a short-lived token at an IAMCredentials endpoint.
# The short-lived token and its expiration time are cached.
#
# source://googleauth//lib/googleauth/impersonated_service_account.rb#25
class Google::Auth::ImpersonatedServiceAccountCredentials
  include ::Google::Auth::BaseClient
  include ::Google::Auth::Helpers::Connection

  # Initializes a new instance of ImpersonatedServiceAccountCredentials.
  #
  # @option options
  # @option options
  # @option options
  # @option options
  # @param options [Hash] A hash of options to configure the credentials.
  # @raise [ArgumentError] If any of the required options are missing.
  # @return [Google::Auth::ImpersonatedServiceAccountCredentials]
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#168
  def initialize(options = T.unsafe(nil)); end

  # @return [String, nil] The short-lived impersonation access token, retrieved and cached
  #   after making the impersonation request
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#63
  def access_token; end

  # @return [Object] The original authenticated credentials used to fetch short-lived impersonation access tokens
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#47
  def base_credentials; end

  # Creates a duplicate of these credentials without transient token state
  #
  # @param options [Hash] Overrides for the credentials parameters.
  #   The following keys are recognized
  #   * `base_credentials` the base credentials used to initialize the impersonation
  #   * `source_credentials` the authenticated credentials which usually would be
  #   base credentials with scope overridden to IAM_SCOPE
  #   * `impersonation_url` the URL to use to make an impersonation token exchange
  #   * `scope` the scope(s) to access
  # @return [Google::Auth::ImpersonatedServiceAccountCredentials]
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#233
  def duplicate(options = T.unsafe(nil)); end

  # @return [Time, nil] The expiration time of the current access token, used to determine
  #   if the token is still valid
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#67
  def expires_at; end

  # Determines whether the current access token expires within the specified number of seconds.
  #
  # @param seconds [Integer] The number of seconds to check against the token's expiration time.
  # @return [Boolean] Whether the access token expires within the given time frame
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#204
  def expires_within?(seconds); end

  # @return [String] The URL endpoint used to generate an impersonation token. This URL should follow a specific
  #   format to specify the impersonated service account.
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#55
  def impersonation_url; end

  # @return [Logger, nil] The logger of the credentials.
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#218
  def logger; end

  # The principal behind the credentials. This class allows custom source credentials type
  # that might not implement `principal`, in which case `:unknown` is returned.
  #
  # @private
  # @return [String, Symbol] The string representation of the principal,
  #   the token type in lieu of the principal, or :unknown if source principal is unknown.
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#252
  def principal; end

  # @return [Array<String>, String] The scope(s) required for the impersonated access token,
  #   indicating the permissions needed for the short-lived token
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#59
  def scope; end

  # @return [Object] The modified version of base credentials, tailored for impersonation purposes
  #   with necessary scope adjustments
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#51
  def source_credentials; end

  # The universe domain of the impersonated credentials.
  # Effectively this retrieves the universe domain of the source credentials.
  #
  # @return [String] The universe domain of the credentials.
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#213
  def universe_domain; end

  private

  # source://googleauth//lib/googleauth/impersonated_service_account.rb#374
  def deep_hash_normalize(old_hash); end

  # Setter for the expires_at value that makes sure it is converted
  # to Time object.
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#334
  def expires_at=(new_expires_at); end

  # Generates a new impersonation access token by exchanging the source credentials' token
  # at the impersonation URL.
  #
  # This method first fetches an access token from the source credentials and then exchanges it
  # for an impersonation token using the specified impersonation URL. The generated token and
  # its expiration time are cached for subsequent use.
  #
  # @param _options [Hash] (optional) Additional options for token retrieval (currently unused).
  # @private
  # @raise [Google::Auth::UnexpectedStatusError] If the response status is 403 or 500.
  # @raise [Google::Auth::AuthorizationError] For other unexpected response statuses.
  # @return [String] The newly generated impersonation access token.
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#276
  def fetch_access_token!(_options = T.unsafe(nil)); end

  # Creates and raises an appropriate error based on the response.
  #
  # @param error_class [Class] The error class to instantiate
  # @param resp [Faraday::Response] The HTTP response
  # @private
  # @raise [StandardError] The appropriate error with details
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#323
  def handle_error_response(resp, error_class); end

  # Makes the HTTP request to the impersonation endpoint.
  #
  # @param auth_header [Hash] The authorization header containing the source token
  # @private
  # @return [Faraday::Response] The HTTP response from the impersonation endpoint
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#309
  def make_impersonation_request(auth_header); end

  # Normalizes a timestamp to a Time object.
  #
  # @param time [Time, String, nil] The timestamp to normalize.
  # @raise [Google::Auth::CredentialsError] If the input is not a Time, String, or nil.
  # @return [Time, nil] The normalized Time object, or nil if the input is nil.
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#351
  def normalize_timestamp(time); end

  # Prepares the authorization header for the impersonation request
  # by fetching a token from source credentials.
  #
  # @private
  # @return [Hash] The authorization header with the source credentials' token
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#298
  def prepare_auth_header; end

  # Convert all keys in this hash (nested) to symbols for uniform retrieval
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#366
  def recursive_hash_normalize_keys(val); end

  # Returns the type of token (access_token).
  # This method is needed for BaseClient.
  #
  # source://googleauth//lib/googleauth/impersonated_service_account.rb#340
  def token_type; end

  class << self
    # Create a ImpersonatedServiceAccountCredentials
    # When you use service account impersonation, you start with an authenticated principal
    # (e.g. your user account or a service account)
    # and request short-lived credentials for a service account
    # that has the authorization that your use case requires.
    #
    # This method does not validate the credential configuration. A security
    # risk occurs when a credential configuration configured with malicious urls
    # is used.
    # When the credential configuration is accepted from an
    # untrusted source, you should validate it before using with this method.
    # See https://cloud.google.com/docs/authentication/external/externally-sourced-credentials
    # for more details.
    #
    # @note Warning:
    # @option options
    # @option options
    # @option options
    # @option options
    # @option options
    # @param options [Hash] A hash of options to configure the credentials.
    # @return [Google::Auth::ImpersonatedServiceAccountCredentials]
    #
    # source://googleauth//lib/googleauth/impersonated_service_account.rb#103
    def make_creds(options = T.unsafe(nil)); end

    private

    # @private
    #
    # source://googleauth//lib/googleauth/impersonated_service_account.rb#112
    def make_creds_from_json(options); end
  end
end

# @private
#
# source://googleauth//lib/googleauth/impersonated_service_account.rb#27
Google::Auth::ImpersonatedServiceAccountCredentials::CREDENTIAL_TYPE_NAME = T.let(T.unsafe(nil), String)

# @private
#
# source://googleauth//lib/googleauth/impersonated_service_account.rb#30
Google::Auth::ImpersonatedServiceAccountCredentials::ERROR_SUFFIX = T.let(T.unsafe(nil), String)

# @private
#
# source://googleauth//lib/googleauth/impersonated_service_account.rb#36
Google::Auth::ImpersonatedServiceAccountCredentials::IAM_SCOPE = T.let(T.unsafe(nil), Array)

# Error raised during Credentials initialization.
# All new code should use this instead of ArgumentError during initializtion.
#
# source://googleauth//lib/googleauth/errors.rb#72
class Google::Auth::InitializationError < ::StandardError
  include ::Google::Auth::Error
end

# JsonKeyReader contains the behaviour used to read private key and
# client email fields from the service account
#
# source://googleauth//lib/googleauth/json_key_reader.rb#23
module Google::Auth::JsonKeyReader
  # Reads a JSON key from an IO object and extracts common fields.
  #
  # @param json_key_io [IO] An IO object containing the JSON key
  # @raise [Google::Auth::InitializationError] If client_email or private_key
  #   fields are missing from the JSON
  # @return [Array(String, String, String, String, String)] An array containing:
  #   private_key, client_email, project_id, quota_project_id, and universe_domain
  #
  # source://googleauth//lib/googleauth/json_key_reader.rb#31
  def read_json_key(json_key_io); end
end

# source://googleauth//lib/googleauth/application_default.rb#23
Google::Auth::NOT_FOUND_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/compute_engine.rb#23
Google::Auth::NO_METADATA_SERVER_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/oauth2/sts_client.rb#20
module Google::Auth::OAuth2; end

# OAuth 2.0 Token Exchange Spec.
# This module defines a token exchange utility based on the
# [OAuth 2.0 Token Exchange](https://tools.ietf.org/html/rfc8693) spec. This will be mainly
# used to exchange external credentials for GCP access tokens in workload identity pools to
# access Google APIs.
# The implementation will support various types of client authentication as allowed in the spec.
#
# A deviation on the spec will be for additional Google specific options that cannot be easily
# mapped to parameters defined in the RFC.
# The returned dictionary response will be based on the [rfc8693 section 2.2.1]
# (https://tools.ietf.org/html/rfc8693#section-2.2.1) spec JSON response.
#
# source://googleauth//lib/googleauth/oauth2/sts_client.rb#33
class Google::Auth::OAuth2::STSClient
  include ::Google::Auth::Helpers::Connection

  # Create a new instance of the STSClient.
  #
  # @option options
  # @option options
  # @param options [Hash] Configuration options
  # @raise [Google::Auth::InitializationError] If token_exchange_endpoint is nil
  # @return [STSClient] a new instance of STSClient
  #
  # source://googleauth//lib/googleauth/oauth2/sts_client.rb#44
  def initialize(options = T.unsafe(nil)); end

  # Exchanges the provided token for another type of token based on the
  # rfc8693 spec
  #
  # A callable faraday instance used to make HTTP requests.
  #
  # @param additional_headers [Hash<String,String>] :
  #   The optional additional headers to pass to the token exchange endpoint.
  # @param audience [String] The optional OAuth 2.0 token exchange audience field.
  # @param connection [Faraday instance]
  # @param grant_type [String] The OAuth 2.0 token exchange grant type.
  # @param requested_token_type [String] The optional OAuth 2.0 token exchange requested token type.
  # @param resource [String] The optional OAuth 2.0 token exchange resource field.
  # @param scopes [Array<String>] The optional list of scopes to use.
  # @param subject_token [String] The OAuth 2.0 token exchange subject token.
  # @param subject_token_type [String] The OAuth 2.0 token exchange subject token type.
  # @raise [ArgumentError] If required options are missing
  # @raise [Google::Auth::AuthorizationError] If the token exchange request fails
  # @return [Hash] A hash containing the token exchange response.
  #
  # source://googleauth//lib/googleauth/oauth2/sts_client.rb#75
  def exchange_token(options = T.unsafe(nil)); end

  private

  # source://googleauth//lib/googleauth/oauth2/sts_client.rb#97
  def make_request(options = T.unsafe(nil)); end
end

# source://googleauth//lib/googleauth/oauth2/sts_client.rb#36
Google::Auth::OAuth2::STSClient::URLENCODED_HEADERS = T.let(T.unsafe(nil), Hash)

# An error indicating the client failed to parse a value.
# Maintains backward compatibility with Signet.
#
# Should not be used in the new code, even when wrapping `Signet::ParseError`.
# New code should use CredentialsError instead.
#
# source://googleauth//lib/googleauth/errors.rb#113
class Google::Auth::ParseError < ::Signet::ParseError
  include ::Google::Auth::Error
  include ::Google::Auth::DetailedError
  extend ::Google::Auth::DetailedError::ClassMethods
end

# Small utility for normalizing scopes into canonical form.
#
# The canonical form of scopes is as an array of strings, each in the form
# of a full URL. This utility converts space-delimited scope strings into
# this form, and handles a small number of common aliases.
#
# This is used by UserRefreshCredentials to verify that a credential grants
# a requested scope.
#
# source://googleauth//lib/googleauth/scope_util.rb#31
module Google::Auth::ScopeUtil
  class << self
    # Ensure the input is an array. If a single string is passed in, splits
    # it via whitespace. Does not interpret aliases.
    #
    # @param scope [String, Array<String>] Input scope(s)
    # @raise [ArgumentError] If the input is not a string or array of strings
    # @return [Array<String>] Always an array of strings
    #
    # source://googleauth//lib/googleauth/scope_util.rb#62
    def as_array(scope); end

    # Normalize the input, which may be an array of scopes or a whitespace-
    # delimited scope string. The output is always an array, even if a single
    # scope is input.
    #
    # @param scope [String, Array<String>] Input scope(s)
    # @return [Array<String>] An array of scopes in canonical form.
    #
    # source://googleauth//lib/googleauth/scope_util.rb#49
    def normalize(scope); end
  end
end

# Aliases understood by this utility
#
# source://googleauth//lib/googleauth/scope_util.rb#35
Google::Auth::ScopeUtil::ALIASES = T.let(T.unsafe(nil), Hash)

# Authenticates requests using Google's Service Account credentials via an
# OAuth access token.
#
# This class allows authorizing requests for service accounts directly
# from credentials from a json key file downloaded from the developer
# console (via 'Generate new Json Key').
#
# cf [Application Default Credentials](https://cloud.google.com/docs/authentication/production)
#
# source://googleauth//lib/googleauth/service_account.rb#37
class Google::Auth::ServiceAccountCredentials < ::Signet::OAuth2::Client
  extend ::Google::Auth::CredentialsLoader
  extend ::Google::Auth::JsonKeyReader

  # @return [ServiceAccountCredentials] a new instance of ServiceAccountCredentials
  #
  # source://googleauth//lib/googleauth/service_account.rb#132
  def initialize(options = T.unsafe(nil)); end

  # Extends the base class to use a transient
  # ServiceAccountJwtHeaderCredentials for certain cases.
  #
  # source://googleauth//lib/googleauth/service_account.rb#141
  def apply!(a_hash, opts = T.unsafe(nil)); end

  # Creates a duplicate of these credentials
  # without the Signet::OAuth2::Client-specific
  # transient state (e.g. cached tokens)
  #
  # @param options [Hash] Overrides for the credentials parameters.
  #   The following keys are recognized in addition to keys in the
  #   Signet::OAuth2::Client
  #   * `:enable_self_signed_jwt` Whether the self-signed JWT should
  #   be used for the authentication
  #   * `project_id` the project id to use during the authentication
  #   * `quota_project_id` the quota project id to use
  #   during the authentication
  #
  # source://googleauth//lib/googleauth/service_account.rb#108
  def duplicate(options = T.unsafe(nil)); end

  # @return [Boolean]
  #
  # source://googleauth//lib/googleauth/service_account.rb#48
  def enable_self_signed_jwt?; end

  # Modifies this logic so it also requires self-signed-jwt to be disabled
  #
  # @return [Boolean]
  #
  # source://googleauth//lib/googleauth/service_account.rb#150
  def needs_access_token?; end

  # Returns the client email as the principal for service account credentials
  #
  # @private
  # @return [String] the email address of the service account
  #
  # source://googleauth//lib/googleauth/service_account.rb#183
  def principal; end

  # Returns the value of attribute project_id.
  #
  # source://googleauth//lib/googleauth/service_account.rb#41
  def project_id; end

  # Returns the value of attribute quota_project_id.
  #
  # source://googleauth//lib/googleauth/service_account.rb#42
  def quota_project_id; end

  # Destructively updates these credentials
  #
  # This method is called by `Signet::OAuth2::Client`'s constructor
  #
  # @param options [Hash] Overrides for the credentials parameters.
  #   The following keys are recognized in addition to keys in the
  #   Signet::OAuth2::Client
  #   * `:enable_self_signed_jwt` Whether the self-signed JWT should
  #   be used for the authentication
  #   * `project_id` the project id to use during the authentication
  #   * `quota_project_id` the quota project id to use
  #   during the authentication
  # @return [Google::Auth::ServiceAccountCredentials]
  #
  # source://googleauth//lib/googleauth/service_account.rb#167
  def update!(options = T.unsafe(nil)); end

  private

  # source://googleauth//lib/googleauth/service_account.rb#189
  def apply_self_signed_jwt!(a_hash); end

  class << self
    # Creates a ServiceAccountCredentials.
    #
    # @param json_key_io [IO] An IO object containing the JSON key
    # @param scope [string|array|nil] the scope(s) to access
    # @raise [ArgumentError] If both scope and target_audience are specified
    #
    # source://googleauth//lib/googleauth/service_account.rb#61
    def make_creds(options = T.unsafe(nil)); end

    # Handles certain escape sequences that sometimes appear in input.
    # Specifically, interprets the "\n" sequence for newline, and removes
    # enclosing quotes.
    #
    # @param str [String] The string to unescape
    # @return [String] The unescaped string
    #
    # source://googleauth//lib/googleauth/service_account.rb#126
    def unescape(str); end

    private

    # Loads service account credential details from environment variables.
    #
    # @private
    # @return [Array<String, String, String, nil, nil>] An array containing private_key,
    #   client_email, project_id, quota_project_id, and universe_domain.
    #
    # source://googleauth//lib/googleauth/service_account.rb#208
    def creds_from_env; end
  end
end

# @private
#
# source://googleauth//lib/googleauth/service_account.rb#46
Google::Auth::ServiceAccountCredentials::CREDENTIAL_TYPE_NAME = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/service_account.rb#38
Google::Auth::ServiceAccountCredentials::TOKEN_CRED_URI = T.let(T.unsafe(nil), String)

# Authenticates requests using Google's Service Account credentials via
# JWT Header.
#
# This class allows authorizing requests for service accounts directly
# from credentials from a json key file downloaded from the developer
# console (via 'Generate new Json Key').  It is not part of any OAuth2
# flow, rather it creates a JWT and sends that as a credential.
#
# cf [Application Default Credentials](https://cloud.google.com/docs/authentication/production)
#
# source://googleauth//lib/googleauth/service_account_jwt_header.rb#33
class Google::Auth::ServiceAccountJwtHeaderCredentials
  extend ::Google::Auth::CredentialsLoader
  extend ::Google::Auth::JsonKeyReader

  # Initializes a ServiceAccountJwtHeaderCredentials.
  #
  # @param json_key_io [IO] An IO object containing the JSON key
  # @return [ServiceAccountJwtHeaderCredentials] a new instance of ServiceAccountJwtHeaderCredentials
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#60
  def initialize(options = T.unsafe(nil)); end

  # Returns a clone of a_hash updated with the authorization header
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#122
  def apply(a_hash, opts = T.unsafe(nil)); end

  # Construct a jwt token if the JWT_AUD_URI key is present in the input
  # hash.
  #
  # The jwt token is used as the value of a 'Bearer '.
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#109
  def apply!(a_hash, opts = T.unsafe(nil)); end

  # Creates a duplicate of these credentials
  #
  # @param options [Hash] Overrides for the credentials parameters.
  #   The following keys are recognized
  #   * `private key` the private key in string form
  #   * `issuer` the SA issuer
  #   * `scope` the scope(s) to access
  #   * `project_id` the project id to use during the authentication
  #   * `quota_project_id` the quota project id to use
  #   * `universe_domain` the universe domain of the credentials
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#89
  def duplicate(options = T.unsafe(nil)); end

  # Returns the value of attribute logger.
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#46
  def logger; end

  # Sets the attribute logger
  #
  # @param value the value to set the attribute logger to.
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#46
  def logger=(_arg0); end

  # Duck-types the corresponding method from BaseClient
  #
  # @return [Boolean]
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#158
  def needs_access_token?; end

  # Creates a jwt uri token.
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#135
  def new_jwt_token(jwt_aud_uri = T.unsafe(nil), options = T.unsafe(nil)); end

  # Returns the client email as the principal for service account JWT header credentials
  #
  # @private
  # @return [String] the email address of the service account
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#165
  def principal; end

  # Returns the value of attribute project_id.
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#43
  def project_id; end

  # Returns the value of attribute quota_project_id.
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#44
  def quota_project_id; end

  # Returns the value of attribute universe_domain.
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#45
  def universe_domain; end

  # Sets the attribute universe_domain
  #
  # @param value the value to set the attribute universe_domain to.
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#45
  def universe_domain=(_arg0); end

  # Returns a reference to the #apply method, suitable for passing as
  # a closure
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#130
  def updater_proc; end

  private

  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#171
  def deep_hash_normalize(old_hash); end

  # Convert all keys in this hash (nested) to symbols for uniform retrieval
  #
  # source://googleauth//lib/googleauth/service_account_jwt_header.rb#178
  def recursive_hash_normalize_keys(val); end

  class << self
    # Create a ServiceAccountJwtHeaderCredentials.
    #
    # @param json_key_io [IO] An IO object containing the JSON key
    # @param scope [string|array|nil] the scope(s) to access
    #
    # source://googleauth//lib/googleauth/service_account_jwt_header.rb#52
    def make_creds(options = T.unsafe(nil)); end
  end
end

# source://googleauth//lib/googleauth/service_account_jwt_header.rb#35
Google::Auth::ServiceAccountJwtHeaderCredentials::AUTH_METADATA_KEY = T.let(T.unsafe(nil), Symbol)

# source://googleauth//lib/googleauth/service_account_jwt_header.rb#38
Google::Auth::ServiceAccountJwtHeaderCredentials::EXPIRY = T.let(T.unsafe(nil), Integer)

# source://googleauth//lib/googleauth/service_account_jwt_header.rb#34
Google::Auth::ServiceAccountJwtHeaderCredentials::JWT_AUD_URI_KEY = T.let(T.unsafe(nil), Symbol)

# source://googleauth//lib/googleauth/service_account_jwt_header.rb#37
Google::Auth::ServiceAccountJwtHeaderCredentials::SIGNING_ALGORITHM = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/service_account_jwt_header.rb#36
Google::Auth::ServiceAccountJwtHeaderCredentials::TOKEN_CRED_URI = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/compute_engine.rb#29
Google::Auth::UNEXPECTED_ERROR_SUFFIX = T.let(T.unsafe(nil), String)

# An error indicating that the server sent an unexpected http status.
# Maintains backward compatibility with Signet.
#
# Should not be used in the new code, even when wrapping `Signet::UnexpectedStatusError`.
# New code should use CredentialsError instead.
#
# source://googleauth//lib/googleauth/errors.rb#102
class Google::Auth::UnexpectedStatusError < ::Signet::UnexpectedStatusError
  include ::Google::Auth::Error
  include ::Google::Auth::DetailedError
  extend ::Google::Auth::DetailedError::ClassMethods
end

# Handles an interactive 3-Legged-OAuth2 (3LO) user consent authorization.
#
# Example usage for a simple command line app:
#
#     credentials = authorizer.get_credentials(user_id)
#     if credentials.nil?
#       url = authorizer.get_authorization_url(
#         base_url: OOB_URI)
#       puts "Open the following URL in the browser and enter the " +
#            "resulting code after authorization"
#       puts url
#       code = gets
#       credentials = authorizer.get_and_store_credentials_from_code(
#         user_id: user_id, code: code, base_url: OOB_URI)
#     end
#     # Credentials ready to use, call APIs
#     ...
#
# source://googleauth//lib/googleauth/user_authorizer.rb#40
class Google::Auth::UserAuthorizer
  # Initialize the authorizer
  #
  # @param client_id [Google::Auth::ClientID] Configured ID & secret for this application
  # @param code_verifier [String] Random string of 43-128 chars used to verify the key exchange using
  #   PKCE.
  # @param legacy_callback_uri [String] URL (either absolute or relative) of the auth callback.
  #   Defaults to '/oauth2callback'.
  #   @deprecated This field is deprecated. Instead, use the keyword
  #   argument callback_uri.
  # @param scope [String, Array<String>] Authorization scope to request
  # @param token_store [Google::Auth::Stores::TokenStore] Backing storage for persisting user credentials
  # @raise [Google::Auth::InitializationError] If client_id is nil or scope is nil
  # @return [UserAuthorizer] a new instance of UserAuthorizer
  #
  # source://googleauth//lib/googleauth/user_authorizer.rb#68
  def initialize(client_id, scope, token_store, legacy_callback_uri = T.unsafe(nil), callback_uri: T.unsafe(nil), code_verifier: T.unsafe(nil)); end

  # The code verifier for PKCE for OAuth 2.0. When set, the
  # authorization URI will contain the Code Challenge and Code
  # Challenge Method querystring parameters, and the token URI will
  # contain the Code Verifier parameter.
  #
  # @param new_code_erifier [String|nil]
  #
  # source://googleauth//lib/googleauth/user_authorizer.rb#270
  def code_verifier=(new_code_verifier); end

  # Exchanges an authorization code returned in the oauth callback.
  # Additionally, stores the resulting credentials in the token store if
  # the exchange is successful.
  #
  # @param base_url [String] Absolute URL to resolve the configured callback uri against.
  #   Required if the configured
  #   callback uri is a relative.
  # @param code [String] The authorization code from the OAuth callback
  # @param scope [String, Array<String>] Authorization scope requested. Overrides the instance
  #   scopes if not nil.
  # @param user_id [String] Unique ID of the user for loading/storing credentials.
  # @return [Google::Auth::UserRefreshCredentials] Credentials if exchange is successful
  #
  # source://googleauth//lib/googleauth/user_authorizer.rb#220
  def get_and_store_credentials_from_code(options = T.unsafe(nil)); end

  # Build the URL for requesting authorization.
  #
  # @param additional_parameters [Hash] Additional query parameters to be added to the authorization URL.
  # @param base_url [String] Absolute URL to resolve the configured callback uri against. Required
  #   if the configured callback uri is a relative.
  # @param login_hint [String] Login hint if need to authorize a specific account. Should be a
  #   user's email address or unique profile ID.
  # @param scope [String, Array<String>] Authorization scope to request. Overrides the instance scopes if not
  #   nil.
  # @param state [String] Opaque state value to be returned to the oauth callback.
  # @return [String] Authorization url
  #
  # source://googleauth//lib/googleauth/user_authorizer.rb#99
  def get_authorization_url(options = T.unsafe(nil)); end

  # Fetch stored credentials for the user.
  #
  # @param scope [Array<String>, String] If specified, only returns credentials that have all
  #   the requested scopes
  # @param user_id [String] Unique ID of the user for loading/storing credentials.
  # @raise [Google::Auth::CredentialsError] If the client ID in the stored token doesn't match the configured client ID
  # @return [Google::Auth::UserRefreshCredentials] Stored credentials, nil if none present
  #
  # source://googleauth//lib/googleauth/user_authorizer.rb#140
  def get_credentials(user_id, scope = T.unsafe(nil)); end

  # Exchanges an authorization code returned in the oauth callback
  #
  # @param additional_parameters [Hash] Additional parameters to be added to the post body of token
  #   endpoint request.
  # @param base_url [String] Absolute URL to resolve the configured callback uri against.
  #   Required if the configured
  #   callback uri is a relative.
  # @param code [String] The authorization code from the OAuth callback
  # @param scope [String, Array<String>] Authorization scope requested. Overrides the instance
  #   scopes if not nil.
  # @param user_id [String] Unique ID of the user for loading/storing credentials.
  # @return [Google::Auth::UserRefreshCredentials] Credentials if exchange is successful
  #
  # source://googleauth//lib/googleauth/user_authorizer.rb#184
  def get_credentials_from_code(options = T.unsafe(nil)); end

  # Returns the principal identifier for this authorizer
  # The client ID is used as the principal for user authorizers
  #
  # @private
  # @return [String] The client ID associated with this authorizer
  #
  # source://googleauth//lib/googleauth/user_authorizer.rb#286
  def principal; end

  # Revokes a user's credentials. This both revokes the actual
  # grant as well as removes the token from the token store.
  #
  # @param user_id [String] Unique ID of the user for loading/storing credentials.
  #
  # source://googleauth//lib/googleauth/user_authorizer.rb#230
  def revoke_authorization(user_id); end

  # Store credentials for a user. Generally not required to be
  # called directly, but may be used to migrate tokens from one
  # store to another.
  #
  # @param credentials [Google::Auth::UserRefreshCredentials] Credentials to store.
  # @param user_id [String] Unique ID of the user for loading/storing credentials.
  # @return [Google::Auth::UserRefreshCredentials] The stored credentials
  #
  # source://googleauth//lib/googleauth/user_authorizer.rb#252
  def store_credentials(user_id, credentials); end

  private

  # source://googleauth//lib/googleauth/user_authorizer.rb#350
  def code_challenge_method; end

  # source://googleauth//lib/googleauth/user_authorizer.rb#345
  def generate_code_challenge(code_verifier); end

  # Begin watching a credential for refreshes so the access token can be
  # saved.
  #
  # @param credentials [Google::Auth::UserRefreshCredentials] Credentials to store.
  # @param user_id [String] Unique ID of the user for loading/storing credentials.
  #
  # source://googleauth//lib/googleauth/user_authorizer.rb#313
  def monitor_credentials(user_id, credentials); end

  # Resolve the redirect uri against a base.
  #
  # @param base_url [String] Absolute URL to resolve the callback against if necessary.
  # @raise [Google::Auth::CredentialsError] If the callback URI is relative and base_url is nil or not absolute
  # @return [String] Redirect URI
  #
  # source://googleauth//lib/googleauth/user_authorizer.rb#328
  def redirect_uri_for(base_url); end

  # @param user_id [String] Unique ID of the user for loading/storing credentials.
  # @private Fetch stored token with given user_id
  # @raise [Google::Auth::InitializationError] If user_id is nil or token_store is nil
  # @return [String] The saved token from @token_store
  #
  # source://googleauth//lib/googleauth/user_authorizer.rb#299
  def stored_token(user_id); end

  # Check if URI is Google's postmessage flow (not a valid redirect_uri by spec, but allowed)
  #
  # @return [Boolean]
  #
  # source://googleauth//lib/googleauth/user_authorizer.rb#341
  def uri_is_postmessage?(uri); end

  class << self
    # Generate the code verifier needed to be sent while fetching
    # authorization URL.
    #
    # source://googleauth//lib/googleauth/user_authorizer.rb#276
    def generate_code_verifier; end
  end
end

# source://googleauth//lib/googleauth/user_authorizer.rb#41
Google::Auth::UserAuthorizer::MISMATCHED_CLIENT_ID_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/user_authorizer.rb#47
Google::Auth::UserAuthorizer::MISSING_ABSOLUTE_URL_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/user_authorizer.rb#43
Google::Auth::UserAuthorizer::NIL_CLIENT_ID_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/user_authorizer.rb#44
Google::Auth::UserAuthorizer::NIL_SCOPE_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/user_authorizer.rb#46
Google::Auth::UserAuthorizer::NIL_TOKEN_STORE_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/user_authorizer.rb#45
Google::Auth::UserAuthorizer::NIL_USER_ID_ERROR = T.let(T.unsafe(nil), String)

# Authenticates requests using User Refresh credentials.
#
# This class allows authorizing requests from user refresh tokens.
#
# This the end of the result of a 3LO flow.  E.g, the end result of
# 'gcloud auth login' saves a file with these contents in well known
# location
#
# cf [Application Default Credentials](https://cloud.google.com/docs/authentication/production)
#
# source://googleauth//lib/googleauth/user_refresh.rb#34
class Google::Auth::UserRefreshCredentials < ::Signet::OAuth2::Client
  extend ::Google::Auth::CredentialsLoader

  # @return [UserRefreshCredentials] a new instance of UserRefreshCredentials
  #
  # source://googleauth//lib/googleauth/user_refresh.rb#97
  def initialize(options = T.unsafe(nil)); end

  # Creates a duplicate of these credentials
  # without the Signet::OAuth2::Client-specific
  # transient state (e.g. cached tokens)
  #
  # @param options [Hash] Overrides for the credentials parameters.
  #   The following keys are recognized in addition to keys in the
  #   Signet::OAuth2::Client
  #   * `project_id` the project id to use during the authentication
  #   * `quota_project_id` the quota project id to use
  #   during the authentication
  #
  # source://googleauth//lib/googleauth/user_refresh.rb#117
  def duplicate(options = T.unsafe(nil)); end

  # Verifies that a credential grants the requested scope
  #
  # @param required_scope [Array<String>, String] Scope to verify
  # @return [Boolean] True if scope is granted
  #
  # source://googleauth//lib/googleauth/user_refresh.rb#158
  def includes_scope?(required_scope); end

  # Returns the client ID as the principal for user refresh credentials
  #
  # @private
  # @return [String, Symbol] the client ID or :user_refresh if not available
  #
  # source://googleauth//lib/googleauth/user_refresh.rb#190
  def principal; end

  # Returns the value of attribute project_id.
  #
  # source://googleauth//lib/googleauth/user_refresh.rb#39
  def project_id; end

  # Returns the value of attribute quota_project_id.
  #
  # source://googleauth//lib/googleauth/user_refresh.rb#40
  def quota_project_id; end

  # Revokes the credential
  #
  # @option options
  # @param options [Hash] Options for revoking the credential
  # @raise [Google::Auth::AuthorizationError] If the revocation request fails
  #
  # source://googleauth//lib/googleauth/user_refresh.rb#132
  def revoke!(options = T.unsafe(nil)); end

  # Destructively updates these credentials
  #
  # This method is called by `Signet::OAuth2::Client`'s constructor
  #
  # @param options [Hash] Overrides for the credentials parameters.
  #   The following keys are recognized in addition to keys in the
  #   Signet::OAuth2::Client
  #   * `project_id` the project id to use during the authentication
  #   * `quota_project_id` the quota project id to use
  #   during the authentication
  # @return [Google::Auth::UserRefreshCredentials]
  #
  # source://googleauth//lib/googleauth/user_refresh.rb#175
  def update!(options = T.unsafe(nil)); end

  class << self
    # Create a UserRefreshCredentials.
    #
    # @param json_key_io [IO] An IO object containing the JSON key
    # @param scope [string|array|nil] the scope(s) to access
    #
    # source://googleauth//lib/googleauth/user_refresh.rb#50
    def make_creds(options = T.unsafe(nil)); end

    # Reads a JSON key from an IO object and extracts required fields.
    #
    # @param json_key_io [IO] An IO object containing the JSON key
    # @raise [Google::Auth::InitializationError] If the JSON is missing required fields
    # @return [Hash] The parsed JSON key
    #
    # source://googleauth//lib/googleauth/user_refresh.rb#88
    def read_json_key(json_key_io); end
  end
end

# source://googleauth//lib/googleauth/user_refresh.rb#36
Google::Auth::UserRefreshCredentials::AUTHORIZATION_URI = T.let(T.unsafe(nil), String)

# @private
#
# source://googleauth//lib/googleauth/user_refresh.rb#44
Google::Auth::UserRefreshCredentials::CREDENTIAL_TYPE_NAME = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/user_refresh.rb#37
Google::Auth::UserRefreshCredentials::REVOKE_TOKEN_URI = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/user_refresh.rb#35
Google::Auth::UserRefreshCredentials::TOKEN_CRED_URI = T.let(T.unsafe(nil), String)

# Varation on {Google::Auth::UserAuthorizer} adapted for Rack based
# web applications.
#
# Example usage:
#
#     get('/') do
#       user_id = request.session['user_email']
#       credentials = authorizer.get_credentials(user_id, request)
#       if credentials.nil?
#         redirect authorizer.get_authorization_url(user_id: user_id,
#                                                   request: request)
#       end
#       # Credentials are valid, can call APIs
#       ...
#    end
#
#    get('/oauth2callback') do
#      url = Google::Auth::WebUserAuthorizer.handle_auth_callback_deferred(
#        request)
#      redirect url
#    end
#
# Instead of implementing the callback directly, applications are
# encouraged to use {Google::Auth::WebUserAuthorizer::CallbackApp} instead.
#
# @note Requires sessions are enabled
# @see CallbackApp
#
# source://googleauth//lib/googleauth/web_user_authorizer.rb#51
class Google::Auth::WebUserAuthorizer < ::Google::Auth::UserAuthorizer
  # Initialize the authorizer
  #
  # @param client_id [Google::Auth::ClientID] Configured ID & secret for this application
  # @param code_verifier [String] Random string of 43-128 chars used to verify the key exchange using
  #   PKCE.
  # @param legacy_callback_uri [String] URL (either absolute or relative) of the auth callback. Defaults
  #   to '/oauth2callback'.
  #   @deprecated This field is deprecated. Instead, use the keyword
  #   argument callback_uri.
  # @param scope [String, Array<String>] Authorization scope to request
  # @param token_store [Google::Auth::Stores::TokenStore] Backing storage for persisting user credentials
  # @return [WebUserAuthorizer] a new instance of WebUserAuthorizer
  #
  # source://googleauth//lib/googleauth/web_user_authorizer.rb#107
  def initialize(client_id, scope, token_store, legacy_callback_uri = T.unsafe(nil), callback_uri: T.unsafe(nil), code_verifier: T.unsafe(nil)); end

  # Build the URL for requesting authorization.
  #
  # @param login_hint [String] Login hint if need to authorize a specific account. Should be a
  #   user's email address or unique profile ID.
  # @param redirect_to [String] Optional URL to proceed to after authorization complete. Defaults to
  #   the current URL.
  # @param request [Rack::Request] Current request
  # @param scope [String, Array<String>] Authorization scope to request. Overrides the instance scopes if
  #   not nil.
  # @param state [Hash] Optional key-values to be returned to the oauth callback.
  # @raise [Google::Auth::InitializationError] If request is nil or request.session is nil
  # @return [String] Authorization url
  #
  # source://googleauth//lib/googleauth/web_user_authorizer.rb#159
  def get_authorization_url(options = T.unsafe(nil)); end

  # Fetch stored credentials for the user from the given request session.
  #
  # @param request [Rack::Request] Current request. Optional. If omitted, this will attempt to fall back
  #   on the base class behavior of reading from the token store.
  # @param scope [Array<String>, String] If specified, only returns credentials that have all the \
  #   requested scopes
  # @param user_id [String] Unique ID of the user for loading/storing credentials.
  # @raise [Google::Auth::AuthorizationError] If the authorization code is missing, there's an error in the request,
  #   or the state token doesn't match
  # @return [Google::Auth::UserRefreshCredentials] Stored credentials, nil if none present
  #
  # source://googleauth//lib/googleauth/web_user_authorizer.rb#192
  def get_credentials(user_id, request = T.unsafe(nil), scope = T.unsafe(nil)); end

  # Handle the result of the oauth callback. Exchanges the authorization
  # code from the request and persists to storage.
  #
  # @param request [Rack::Request] Current request
  # @param user_id [String] Unique ID of the user for loading/storing credentials.
  # @return [Google::Auth::UserRefreshCredentials, String] credentials & next URL to redirect to
  #
  # source://googleauth//lib/googleauth/web_user_authorizer.rb#126
  def handle_auth_callback(user_id, request); end

  class << self
    # Returns the value of attribute default.
    #
    # source://googleauth//lib/googleauth/web_user_authorizer.rb#69
    def default; end

    # Sets the attribute default
    #
    # @param value the value to set the attribute default to.
    #
    # source://googleauth//lib/googleauth/web_user_authorizer.rb#69
    def default=(_arg0); end

    # Extract the callback state from the request
    #
    # @param request [Rack::Request] Current request
    # @return [Array<Hash, String>] Callback state and redirect URI
    #
    # source://googleauth//lib/googleauth/web_user_authorizer.rb#216
    def extract_callback_state(request); end

    # Handle the result of the oauth callback. This version defers the
    # exchange of the code by temporarily stashing the results in the user's
    # session. This allows apps to use the generic
    # {Google::Auth::WebUserAuthorizer::CallbackApp} handler for the callback
    # without any additional customization.
    #
    # Apps that wish to handle the callback directly should use
    # {#handle_auth_callback} instead.
    #
    # @param request [Rack::Request] Current request
    # @return [String, nil] Redirect URI if successfully extracted, nil otherwise
    #
    # source://googleauth//lib/googleauth/web_user_authorizer.rb#85
    def handle_auth_callback_deferred(request); end

    # Returns the principal identifier for this web authorizer
    # This is a class method that returns a symbol since
    # we might not have a client_id in the static callback context
    #
    # @return [Symbol] The symbol for web user authorization
    #
    # source://googleauth//lib/googleauth/web_user_authorizer.rb#233
    def principal; end

    # Verifies the results of an authorization callback
    #
    # @option state
    # @option state
    # @param request [Rack::Request] Current request
    # @param state [Hash] Callback state
    # @raise [Google::Auth::AuthorizationError] If the authorization code is missing, there's an error in the callback state,
    #   or the state token doesn't match
    #
    # source://googleauth//lib/googleauth/web_user_authorizer.rb#250
    def validate_callback_state(state, request); end
  end
end

# source://googleauth//lib/googleauth/web_user_authorizer.rb#64
Google::Auth::WebUserAuthorizer::AUTHORIZATION_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/web_user_authorizer.rb#53
Google::Auth::WebUserAuthorizer::AUTH_CODE_KEY = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/web_user_authorizer.rb#56
Google::Auth::WebUserAuthorizer::CALLBACK_STATE_KEY = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/web_user_authorizer.rb#57
Google::Auth::WebUserAuthorizer::CURRENT_URI_KEY = T.let(T.unsafe(nil), String)

# Small Rack app which acts as the default callback handler for the app.
#
# To configure in Rails, add to routes.rb:
#
#     match '/oauth2callback',
#           to: Google::Auth::WebUserAuthorizer::CallbackApp,
#           via: :all
#
# With Rackup, add to config.ru:
#
#     map '/oauth2callback' do
#       run Google::Auth::WebUserAuthorizer::CallbackApp
#     end
#
# Or in a classic Sinatra app:
#
#     get('/oauth2callback') do
#       Google::Auth::WebUserAuthorizer::CallbackApp.call(env)
#     end
#
# @see Google::Auth::WebUserAuthorizer
#
# source://googleauth//lib/googleauth/web_user_authorizer.rb#295
class Google::Auth::WebUserAuthorizer::CallbackApp
  # source://googleauth//lib/googleauth/web_user_authorizer.rb#322
  def call(env); end

  class << self
    # Handle a rack request. Simply stores the results the authorization
    # in the session temporarily and redirects back to to the previously
    # saved redirect URL. Credentials can be later retrieved by calling.
    # {Google::Auth::Web::WebUserAuthorizer#get_credentials}
    #
    # See {Google::Auth::Web::WebUserAuthorizer#get_authorization_uri}
    # for how to initiate authorization requests.
    #
    # @param env [Hash] Rack environment
    # @return [Array] HTTP response
    #
    # source://googleauth//lib/googleauth/web_user_authorizer.rb#312
    def call(env); end
  end
end

# source://googleauth//lib/googleauth/web_user_authorizer.rb#298
Google::Auth::WebUserAuthorizer::CallbackApp::ERROR_STATUS = T.let(T.unsafe(nil), Integer)

# source://googleauth//lib/googleauth/web_user_authorizer.rb#296
Google::Auth::WebUserAuthorizer::CallbackApp::LOCATION_HEADER = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/web_user_authorizer.rb#297
Google::Auth::WebUserAuthorizer::CallbackApp::REDIR_STATUS = T.let(T.unsafe(nil), Integer)

# source://googleauth//lib/googleauth/web_user_authorizer.rb#54
Google::Auth::WebUserAuthorizer::ERROR_CODE_KEY = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/web_user_authorizer.rb#65
Google::Auth::WebUserAuthorizer::INVALID_STATE_TOKEN_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/web_user_authorizer.rb#63
Google::Auth::WebUserAuthorizer::MISSING_AUTH_CODE_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/web_user_authorizer.rb#61
Google::Auth::WebUserAuthorizer::NIL_REQUEST_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/web_user_authorizer.rb#62
Google::Auth::WebUserAuthorizer::NIL_SESSION_ERROR = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/web_user_authorizer.rb#59
Google::Auth::WebUserAuthorizer::SCOPE_KEY = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/web_user_authorizer.rb#55
Google::Auth::WebUserAuthorizer::SESSION_ID_KEY = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/web_user_authorizer.rb#52
Google::Auth::WebUserAuthorizer::STATE_PARAM = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/web_user_authorizer.rb#58
Google::Auth::WebUserAuthorizer::XSRF_KEY = T.let(T.unsafe(nil), String)

# source://googleauth//lib/googleauth/signet.rb#21
module Signet; end

# OAuth2 supports OAuth2 authentication.
#
# source://googleauth//lib/googleauth/signet.rb#23
module Signet::OAuth2; end

# Signet::OAuth2::Client creates an OAuth2 client
#
# This reopens Client to add #apply and #apply! methods which update a
# hash with the fetched authentication token.
#
# source://googleauth//lib/googleauth/signet.rb#28
class Signet::OAuth2::Client
  include ::Google::Auth::BaseClient

  # source://googleauth//lib/googleauth/signet.rb#103
  def build_default_connection; end

  # source://googleauth//lib/googleauth/signet.rb#58
  def configure_connection(options); end

  # Creates a duplicate of these credentials
  # without the Signet::OAuth2::Client-specific
  # transient state (e.g. cached tokens)
  #
  # @param options [Hash] Overrides for the credentials parameters.
  # @see Signet::OAuth2::Client#update!
  #
  # source://googleauth//lib/googleauth/signet.rb#160
  def duplicate(options = T.unsafe(nil)); end

  # source://googleauth//lib/googleauth/signet.rb#73
  def fetch_access_token!(options = T.unsafe(nil)); end

  # source://googleauth//lib/googleauth/signet.rb#86
  def generate_access_token_request(options = T.unsafe(nil)); end

  # source://googleauth//lib/googleauth/signet.rb#85
  def googleauth_orig_generate_access_token_request(options = T.unsafe(nil)); end

  # source://googleauth//lib/googleauth/signet.rb#72
  def orig_fetch_access_token!(options = T.unsafe(nil)); end

  # Retries the provided block with exponential backoff, handling and wrapping errors.
  #
  # @param max_retry_count [Integer] The maximum number of retries before giving up
  # @raise [Google::Auth::AuthorizationError] If a Signet::AuthorizationError occurs or if retries are exhausted
  # @raise [Google::Auth::ParseError] If a Signet::ParseError occurs during token parsing
  # @return [Object] The result of the block if successful
  # @yield The block to execute and potentially retry
  #
  # source://googleauth//lib/googleauth/signet.rb#122
  def retry_with_error(max_retry_count = T.unsafe(nil)); end

  # The token type as symbol, either :id_token or :access_token
  #
  # source://googleauth//lib/googleauth/signet.rb#65
  def token_type; end

  # Set the universe domain
  #
  # source://googleauth//lib/googleauth/signet.rb#70
  def universe_domain; end

  # Set the universe domain
  #
  # source://googleauth//lib/googleauth/signet.rb#70
  def universe_domain=(_arg0); end

  # source://googleauth//lib/googleauth/signet.rb#43
  def update!(options = T.unsafe(nil)); end

  # source://googleauth//lib/googleauth/signet.rb#42
  def update_signet_base(options = T.unsafe(nil)); end

  # source://googleauth//lib/googleauth/signet.rb#33
  def update_token!(options = T.unsafe(nil)); end

  # source://googleauth//lib/googleauth/signet.rb#31
  def update_token_signet_base(options = T.unsafe(nil)); end

  private

  # source://googleauth//lib/googleauth/signet.rb#192
  def expires_at_from_id_token(id_token); end

  # source://googleauth//lib/googleauth/signet.rb#219
  def log_auth_error(err); end

  # source://googleauth//lib/googleauth/signet.rb#203
  def log_response(token_response); end

  # source://googleauth//lib/googleauth/signet.rb#237
  def log_retries_exhausted(err); end

  # source://googleauth//lib/googleauth/signet.rb#228
  def log_transient_error(err); end
end
