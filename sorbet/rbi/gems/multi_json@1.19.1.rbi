# typed: true

# DO NOT EDIT MANUALLY
# This is an autogenerated file for types exported from the `multi_json` gem.
# Please instead update this file by running `bin/tapioca gem multi_json`.


# A unified interface for JSON libraries in Ruby
#
# MultiJson allows swapping between JSON backends without changing your code.
# It auto-detects available JSON libraries and uses the fastest one available.
#
# @api public
# @example Basic usage
#   MultiJson.load('{"foo":"bar"}')  #=> {"foo" => "bar"}
#   MultiJson.dump({foo: "bar"})     #=> '{"foo":"bar"}'
# @example Specifying an adapter
#   MultiJson.use(:oj)
#   MultiJson.load('{"foo":"bar"}', adapter: :json_gem)
#
# source://multi_json//lib/multi_json/options.rb#1
module MultiJson
  extend ::MultiJson::Options
  extend ::MultiJson::AdapterSelector

  private

  # Returns the current adapter class
  #
  # @api private
  # @example
  #   MultiJson.adapter  #=> MultiJson::Adapters::Oj
  # @return [Class] the current adapter class
  #
  # source://multi_json//lib/multi_json.rb#99
  def adapter; end

  # Sets the adapter to use for JSON operations
  #
  # @api private
  # @example
  #   MultiJson.adapter = :json_gem
  # @return [Class] the loaded adapter class
  #
  # source://multi_json//lib/multi_json.rb#131
  def adapter=(new_adapter); end

  # source://multi_json//lib/multi_json.rb#60
  def cached_options(*_arg0); end

  # Returns the adapter to use for the given options
  #
  # @api private
  # @example
  #   MultiJson.current_adapter(adapter: :oj)  #=> MultiJson::Adapters::Oj
  # @param options [Hash] options that may contain :adapter key
  # @return [Class] adapter class
  #
  # source://multi_json//lib/multi_json.rb#180
  def current_adapter(options = T.unsafe(nil)); end

  # Parses a JSON string into a Ruby object
  #
  # @api private
  # @deprecated Use {.load} instead
  # @example
  #   MultiJson.decode('{"foo":"bar"}')  #=> {"foo" => "bar"}
  # @return [Object] parsed Ruby object
  #
  # source://multi_json//lib/multi_json.rb#170
  def decode(string, options = T.unsafe(nil)); end

  # Get the default options
  #
  # @api private
  # @deprecated Use {.load_options} or {.dump_options} instead
  # @example
  #   MultiJson.default_options  #=> {}
  # @return [Hash] the current load options
  #
  # source://multi_json//lib/multi_json.rb#52
  def default_options; end

  # Set default options for both load and dump operations
  #
  # @api private
  # @deprecated Use {.load_options=} and {.dump_options=} instead
  # @example
  #   MultiJson.default_options = {symbolize_keys: true}
  # @param value [Hash] options hash
  # @return [Hash] the options hash
  #
  # source://multi_json//lib/multi_json.rb#39
  def default_options=(value); end

  # Serializes a Ruby object to a JSON string
  #
  # @api private
  # @example
  #   MultiJson.dump({foo: "bar"})  #=> '{"foo":"bar"}'
  # @param object [Object] object to serialize
  # @param options [Hash] serialization options (adapter-specific)
  # @return [String] JSON string
  #
  # source://multi_json//lib/multi_json.rb#194
  def dump(object, options = T.unsafe(nil)); end

  # Serializes a Ruby object to a JSON string
  #
  # @api private
  # @deprecated Use {.dump} instead
  # @example
  #   MultiJson.encode({foo: "bar"})  #=> '{"foo":"bar"}'
  # @return [String] JSON string
  #
  # source://multi_json//lib/multi_json.rb#205
  def encode(object, options = T.unsafe(nil)); end

  # Returns the current adapter class (alias for adapter)
  #
  # @api private
  # @deprecated Use {.adapter} instead
  # @example
  #   MultiJson.engine  #=> MultiJson::Adapters::Oj
  # @return [Class] the current adapter class
  #
  # source://multi_json//lib/multi_json.rb#110
  def engine; end

  # Sets the adapter to use for JSON operations
  #
  # @api private
  # @deprecated Use {.adapter=} instead
  # @example
  #   MultiJson.engine = :json_gem
  # @return [Class] the loaded adapter class
  #
  # source://multi_json//lib/multi_json.rb#140
  def engine=(new_adapter); end

  # Parses a JSON string into a Ruby object
  #
  # @api private
  # @example
  #   MultiJson.load('{"foo":"bar"}')  #=> {"foo" => "bar"}
  # @param options [Hash] parsing options (adapter-specific)
  # @param string [String, #read] JSON string or IO-like object
  # @raise [ParseError] if parsing fails
  # @return [Object] parsed Ruby object
  #
  # source://multi_json//lib/multi_json.rb#156
  def load(string, options = T.unsafe(nil)); end

  # source://multi_json//lib/multi_json.rb#60
  def reset_cached_options!(*_arg0); end

  # Sets the adapter to use for JSON operations
  #
  # @api private
  # @example
  #   MultiJson.use(:oj)
  # @param new_adapter [Symbol, String, Module, nil] adapter specification
  # @return [Class] the loaded adapter class
  #
  # source://multi_json//lib/multi_json.rb#119
  def use(new_adapter); end

  # Executes a block using the specified adapter
  #
  # @api private
  # @example
  #   MultiJson.with_adapter(:json_gem) { MultiJson.dump({}) }
  # @param new_adapter [Symbol, String, Module] adapter to use
  # @return [Object] result of the block
  # @yield block to execute with the temporary adapter
  #
  # source://multi_json//lib/multi_json.rb#216
  def with_adapter(new_adapter); end

  # Executes a block using the specified adapter
  #
  # @api private
  # @deprecated Use {.with_adapter} instead
  # @example
  #   MultiJson.with_engine(:json_gem) { MultiJson.dump({}) }
  # @return [Object] result of the block
  #
  # source://multi_json//lib/multi_json.rb#231
  def with_engine(new_adapter); end

  class << self
    # Returns the current adapter class
    #
    # @api private
    # @example
    #   MultiJson.adapter  #=> MultiJson::Adapters::Oj
    # @return [Class] the current adapter class
    #
    # source://multi_json//lib/multi_json.rb#99
    def adapter; end

    # Sets the adapter to use for JSON operations
    #
    # @api private
    # @example
    #   MultiJson.adapter = :json_gem
    # @return [Class] the loaded adapter class
    #
    # source://multi_json//lib/multi_json.rb#141
    def adapter=(new_adapter); end

    # source://multi_json//lib/multi_json.rb#60
    def cached_options(*_arg0); end

    # Returns the adapter to use for the given options
    #
    # @api private
    # @example
    #   MultiJson.current_adapter(adapter: :oj)  #=> MultiJson::Adapters::Oj
    # @param options [Hash] options that may contain :adapter key
    # @return [Class] adapter class
    #
    # source://multi_json//lib/multi_json.rb#180
    def current_adapter(options = T.unsafe(nil)); end

    # Parses a JSON string into a Ruby object
    #
    # @api private
    # @deprecated Use {.load} instead
    # @example
    #   MultiJson.decode('{"foo":"bar"}')  #=> {"foo" => "bar"}
    # @return [Object] parsed Ruby object
    #
    # source://multi_json//lib/multi_json.rb#171
    def decode(string, options = T.unsafe(nil)); end

    # Returns the default adapter name (alias for default_adapter)
    #
    # @api public
    # @deprecated Use {.default_adapter} instead
    # @example
    #   MultiJson.default_engine  #=> :oj
    # @return [Symbol] the default adapter name
    #
    # source://multi_json//lib/multi_json.rb#86
    def default_engine; end

    # Get the default options
    #
    # @api private
    # @deprecated Use {.load_options} or {.dump_options} instead
    # @example
    #   MultiJson.default_options  #=> {}
    # @return [Hash] the current load options
    #
    # source://multi_json//lib/multi_json.rb#52
    def default_options; end

    # Set default options for both load and dump operations
    #
    # @api private
    # @deprecated Use {.load_options=} and {.dump_options=} instead
    # @example
    #   MultiJson.default_options = {symbolize_keys: true}
    # @param value [Hash] options hash
    # @return [Hash] the options hash
    #
    # source://multi_json//lib/multi_json.rb#39
    def default_options=(value); end

    # Serializes a Ruby object to a JSON string
    #
    # @api private
    # @example
    #   MultiJson.dump({foo: "bar"})  #=> '{"foo":"bar"}'
    # @param object [Object] object to serialize
    # @param options [Hash] serialization options (adapter-specific)
    # @return [String] JSON string
    #
    # source://multi_json//lib/multi_json.rb#194
    def dump(object, options = T.unsafe(nil)); end

    # Serializes a Ruby object to a JSON string
    #
    # @api private
    # @deprecated Use {.dump} instead
    # @example
    #   MultiJson.encode({foo: "bar"})  #=> '{"foo":"bar"}'
    # @return [String] JSON string
    #
    # source://multi_json//lib/multi_json.rb#206
    def encode(object, options = T.unsafe(nil)); end

    # Sets the adapter to use for JSON operations
    #
    # @api private
    # @deprecated Use {.adapter=} instead
    # @example
    #   MultiJson.engine = :json_gem
    # @return [Class] the loaded adapter class
    #
    # source://multi_json//lib/multi_json.rb#141
    def engine=(new_adapter); end

    # Parses a JSON string into a Ruby object
    #
    # @api private
    # @example
    #   MultiJson.load('{"foo":"bar"}')  #=> {"foo" => "bar"}
    # @param options [Hash] parsing options (adapter-specific)
    # @param string [String, #read] JSON string or IO-like object
    # @raise [ParseError] if parsing fails
    # @return [Object] parsed Ruby object
    #
    # source://multi_json//lib/multi_json.rb#156
    def load(string, options = T.unsafe(nil)); end

    # source://multi_json//lib/multi_json.rb#60
    def reset_cached_options!(*_arg0); end

    # Sets the adapter to use for JSON operations
    #
    # @api private
    # @example
    #   MultiJson.use(:oj)
    # @param new_adapter [Symbol, String, Module, nil] adapter specification
    # @return [Class] the loaded adapter class
    #
    # source://multi_json//lib/multi_json.rb#119
    def use(new_adapter); end

    # Executes a block using the specified adapter
    #
    # @api private
    # @example
    #   MultiJson.with_adapter(:json_gem) { MultiJson.dump({}) }
    # @param new_adapter [Symbol, String, Module] adapter to use
    # @return [Object] result of the block
    # @yield block to execute with the temporary adapter
    #
    # source://multi_json//lib/multi_json.rb#216
    def with_adapter(new_adapter); end

    # Executes a block using the specified adapter
    #
    # @api private
    # @deprecated Use {.with_adapter} instead
    # @example
    #   MultiJson.with_engine(:json_gem) { MultiJson.dump({}) }
    # @return [Object] result of the block
    #
    # source://multi_json//lib/multi_json.rb#232
    def with_engine(new_adapter); end
  end
end

# Legacy alias for adapter name mappings
#
# @api public
#
# source://multi_json//lib/multi_json.rb#66
MultiJson::ALIASES = T.let(T.unsafe(nil), Hash)

# Raised when an adapter cannot be loaded or is not recognized
#
# @api public
#
# source://multi_json//lib/multi_json/adapter_error.rb#5
class MultiJson::AdapterError < ::ArgumentError
  # Create a new AdapterError
  #
  # @api public
  # @example
  #   AdapterError.new("Unknown adapter", cause: original_error)
  # @param cause [Exception, nil] the original exception
  # @param message [String, nil] error message
  # @return [AdapterError] new error instance
  #
  # source://multi_json//lib/multi_json/adapter_error.rb#14
  def initialize(message = T.unsafe(nil), cause: T.unsafe(nil)); end

  class << self
    # Build an AdapterError from an original exception
    #
    # @api public
    # @example
    #   AdapterError.build(LoadError.new("cannot load such file"))
    # @param original_exception [Exception] the original load error
    # @return [AdapterError] new error with formatted message
    #
    # source://multi_json//lib/multi_json/adapter_error.rb#26
    def build(original_exception); end
  end
end

# Handles adapter discovery, loading, and selection
#
# Adapters can be specified as:
# - Symbol/String: adapter name (e.g., :oj, "json_gem")
# - Module: adapter class directly
# - nil/false: use default adapter
#
# @api private
#
# source://multi_json//lib/multi_json/adapter_selector.rb#10
module MultiJson::AdapterSelector
  extend ::MultiJson::AdapterSelector

  # Returns the default adapter to use
  #
  # @api private
  # @example
  #   AdapterSelector.default_adapter  #=> :oj
  # @return [Symbol] adapter name
  #
  # source://multi_json//lib/multi_json/adapter_selector.rb#31
  def default_adapter; end

  private

  # Detects the best available JSON adapter
  #
  # @api private
  # @return [Symbol] adapter name
  #
  # source://multi_json//lib/multi_json/adapter_selector.rb#41
  def detect_best_adapter; end

  # Returns the fallback adapter when no others available
  #
  # @api private
  # @return [Symbol] the ok_json adapter name
  #
  # source://multi_json//lib/multi_json/adapter_selector.rb#86
  def fallback_adapter; end

  # Finds the appropriate loader for an adapter specification
  #
  # @api private
  # @param adapter_spec [Object] adapter specification
  # @return [Proc, nil] loader proc if found
  #
  # source://multi_json//lib/multi_json/adapter_selector.rb#122
  def find_loader_for(adapter_spec); end

  # Tries to require and use an installable adapter
  #
  # @api private
  # @return [Symbol, nil] adapter name if successfully required
  #
  # source://multi_json//lib/multi_json/adapter_selector.rb#63
  def installable_adapter; end

  # Loads an adapter from a specification
  #
  # @api private
  # @param adapter_spec [Symbol, String, Module, nil] adapter specification
  # @return [Class] the adapter class
  #
  # source://multi_json//lib/multi_json/adapter_selector.rb#108
  def load_adapter(adapter_spec); end

  # Loads an adapter by its string name
  #
  # @api private
  # @param name [String] adapter name
  # @return [Class] the adapter class
  #
  # source://multi_json//lib/multi_json/adapter_selector.rb#134
  def load_adapter_by_name(name); end

  # Finds an already-loaded JSON library
  #
  # @api private
  # @return [Symbol, nil] adapter name if found
  #
  # source://multi_json//lib/multi_json/adapter_selector.rb#49
  def loaded_adapter; end

  # Attempts to require a JSON library
  #
  # @api private
  # @param adapter_name [Symbol] adapter to require
  # @return [Boolean] true if require succeeded
  #
  # source://multi_json//lib/multi_json/adapter_selector.rb#75
  def try_require(adapter_name); end

  # Warns the user about using the slow fallback adapter
  #
  # @api private
  # @return [void]
  #
  # source://multi_json//lib/multi_json/adapter_selector.rb#96
  def warn_about_fallback; end
end

# Alternate spellings for adapter names
#
# @api private
#
# source://multi_json//lib/multi_json/adapter_selector.rb#14
MultiJson::AdapterSelector::ALIASES = T.let(T.unsafe(nil), Hash)

# Strategy lambdas for loading adapters based on specification type
#
# @api private
#
# source://multi_json//lib/multi_json/adapter_selector.rb#17
MultiJson::AdapterSelector::LOADERS = T.let(T.unsafe(nil), Hash)

# Legacy aliases for backward compatibility
#
# source://multi_json//lib/multi_json/parse_error.rb#45
MultiJson::DecodeError = MultiJson::ParseError

# source://multi_json//lib/multi_json/parse_error.rb#45
MultiJson::LoadError = MultiJson::ParseError

# Mixin providing configurable load/dump options
#
# Supports static hashes or dynamic callables (procs/lambdas).
# Extended by both MultiJson (global options) and Adapter classes.
#
# @api private
#
# source://multi_json//lib/multi_json/options.rb#8
module MultiJson::Options
  # Get default dump options
  #
  # @api private
  # @return [Hash] frozen empty hash
  #
  # source://multi_json//lib/multi_json/options.rb#60
  def default_dump_options; end

  # Get default load options
  #
  # @api private
  # @return [Hash] frozen empty hash
  #
  # source://multi_json//lib/multi_json/options.rb#52
  def default_load_options; end

  # Get options for dump operations
  #
  # @api private
  # @return [Hash] resolved options hash
  #
  # source://multi_json//lib/multi_json/options.rb#44
  def dump_options(*_arg0, **_arg1, &_arg2); end

  # Set options for dump operations
  #
  # @api private
  # @param options [Hash, Proc] options hash or callable
  # @return [Hash, Proc] the options
  #
  # source://multi_json//lib/multi_json/options.rb#27
  def dump_options=(options); end

  # Get options for load operations
  #
  # @api private
  # @return [Hash] resolved options hash
  #
  # source://multi_json//lib/multi_json/options.rb#36
  def load_options(*_arg0, **_arg1, &_arg2); end

  # Set options for load operations
  #
  # @api private
  # @param options [Hash, Proc] options hash or callable
  # @return [Hash, Proc] the options
  #
  # source://multi_json//lib/multi_json/options.rb#17
  def load_options=(options); end

  private

  # Invokes a callable options provider
  #
  # @api private
  # @param callable [Proc] options provider
  # @return [Hash] options returned by the callable
  #
  # source://multi_json//lib/multi_json/options.rb#82
  def invoke_callable(callable, *_arg1, **_arg2, &_arg3); end

  # Resolves options from a hash or callable
  #
  # @api private
  # @param options [Hash, Proc, nil] options configuration
  # @return [Hash, nil] resolved options hash
  #
  # source://multi_json//lib/multi_json/options.rb#71
  def resolve_options(options, *_arg1, **_arg2, &_arg3); end
end

# @api private
#
# source://multi_json//lib/multi_json/options.rb#9
MultiJson::Options::EMPTY_OPTIONS = T.let(T.unsafe(nil), Hash)

# Thread-safe LRU-like cache for merged options hashes
#
# Caches are separated for load and dump operations. Each cache is
# bounded to prevent unbounded memory growth when options are
# generated dynamically.
#
# @api private
#
# source://multi_json//lib/multi_json/options_cache.rb#9
module MultiJson::OptionsCache
  class << self
    # Get the dump options cache
    #
    # @api private
    # @return [Store] dump cache store
    #
    # source://multi_json//lib/multi_json/options_cache.rb#78
    def dump; end

    # Get the load options cache
    #
    # @api private
    # @return [Store] load cache store
    #
    # source://multi_json//lib/multi_json/options_cache.rb#84
    def load; end

    # Reset both caches
    #
    # @api private
    # @return [void]
    #
    # source://multi_json//lib/multi_json/options_cache.rb#90
    def reset; end
  end
end

# Maximum entries before oldest entry is evicted
#
# @api private
#
# source://multi_json//lib/multi_json/options_cache.rb#11
MultiJson::OptionsCache::MAX_CACHE_SIZE = T.let(T.unsafe(nil), Integer)

# Thread-safe cache store using double-checked locking pattern
#
# @api private
#
# source://multi_json//lib/multi_json/options_cache.rb#16
class MultiJson::OptionsCache::Store
  # Create a new cache store
  #
  # @api private
  # @return [Store] new store instance
  #
  # source://multi_json//lib/multi_json/options_cache.rb#24
  def initialize; end

  # Fetch a value from cache or compute it
  #
  # @api private
  # @param default [Object] default value if key not found
  # @param key [Object] cache key
  # @return [Object] cached or computed value
  # @yield block to compute value if not cached
  #
  # source://multi_json//lib/multi_json/options_cache.rb#44
  def fetch(key, default = T.unsafe(nil)); end

  # Clear all cached entries
  #
  # @api private
  # @return [void]
  #
  # source://multi_json//lib/multi_json/options_cache.rb#33
  def reset; end

  private

  # Stores a value in the cache with LRU eviction
  #
  # @api private
  # @param key [Object] cache key
  # @param value [Object] value to store
  # @return [Object] the stored value
  #
  # source://multi_json//lib/multi_json/options_cache.rb#63
  def store(key, value); end
end

# Sentinel value to detect cache misses (unique object identity)
#
# @api private
#
# source://multi_json//lib/multi_json/options_cache.rb#18
MultiJson::OptionsCache::Store::NOT_FOUND = T.let(T.unsafe(nil), Object)

# Raised when JSON parsing fails
#
# Wraps the underlying adapter's parse error with the original input data.
#
# @api public
#
# source://multi_json//lib/multi_json/parse_error.rb#7
class MultiJson::ParseError < ::StandardError
  # Create a new ParseError
  #
  # @api public
  # @example
  #   ParseError.new("unexpected token", data: "{invalid}", cause: err)
  # @param cause [Exception, nil] the original exception
  # @param data [String, nil] the input that failed to parse
  # @param message [String, nil] error message
  # @return [ParseError] new error instance
  #
  # source://multi_json//lib/multi_json/parse_error.rb#25
  def initialize(message = T.unsafe(nil), data: T.unsafe(nil), cause: T.unsafe(nil)); end

  # The input string that failed to parse
  #
  # @api public
  # @example
  #   error.data  #=> "{invalid json}"
  # @return [String, nil] the original input data
  #
  # source://multi_json//lib/multi_json/parse_error.rb#14
  def data; end

  class << self
    # Build a ParseError from an original exception
    #
    # @api public
    # @example
    #   ParseError.build(JSON::ParserError.new("..."), "{bad json}")
    # @param data [String] the input that failed to parse
    # @param original_exception [Exception] the adapter's parse error
    # @return [ParseError] new error with formatted message
    #
    # source://multi_json//lib/multi_json/parse_error.rb#39
    def build(original_exception, data); end
  end
end

# Maps adapter symbols to their require paths for auto-loading
#
# @api public
#
# source://multi_json//lib/multi_json.rb#69
MultiJson::REQUIREMENT_MAP = T.let(T.unsafe(nil), Hash)

# Current version string in semver format
#
# source://multi_json//lib/multi_json/version.rb#27
MultiJson::VERSION = T.let(T.unsafe(nil), String)

# Version information for MultiJson
#
# @api private
#
# source://multi_json//lib/multi_json/version.rb#5
class MultiJson::Version
  class << self
    # Return the version string
    #
    # @api private
    # @return [String] version in semver format
    #
    # source://multi_json//lib/multi_json/version.rb#20
    def to_s; end
  end
end

# Major version number
#
# @api private
#
# source://multi_json//lib/multi_json/version.rb#7
MultiJson::Version::MAJOR = T.let(T.unsafe(nil), Integer)

# Minor version number
#
# @api private
#
# source://multi_json//lib/multi_json/version.rb#9
MultiJson::Version::MINOR = T.let(T.unsafe(nil), Integer)

# Patch version number
#
# @api private
#
# source://multi_json//lib/multi_json/version.rb#11
MultiJson::Version::PATCH = T.let(T.unsafe(nil), Integer)

# Pre-release version suffix
#
# @api private
#
# source://multi_json//lib/multi_json/version.rb#13
MultiJson::Version::PRE = T.let(T.unsafe(nil), T.untyped)
